(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r({activeSim:e,setActiveSim:s,children:r}){let i=[{id:"sorting",label:"Sorting",icon:"ðŸ“Š"},{id:"graph",label:"Graph Search",icon:"ðŸ•¸ï¸"},{id:"maze",label:"Maze Gen",icon:"ðŸŒ€"},{id:"flow",label:"Flow Sim",icon:"ðŸŒŠ"},{id:"fluid",label:"Scribble Pad",icon:"ðŸŽ¨"},{id:"liquid",label:"Liquid Sim",icon:"ðŸ’§"},{id:"terraforming",label:"Terraforming",icon:"ðŸŒ"},{id:"automata",label:"Game of Life",icon:"ðŸ‘¾"},{id:"physics",label:"Physics Engine",icon:"âš›ï¸"},{id:"universe",label:"Universe",icon:"ðŸŒŒ"},{id:"quantum_course",label:"Quantum Course",icon:"ðŸŽ“"}];return(0,t.jsxs)("div",{className:"flex h-screen bg-gray-900 text-white overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-64 bg-gray-800 border-r border-gray-700 flex flex-col",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-700",children:(0,t.jsx)("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"SimPlatform"})}),(0,t.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:i.map(r=>(0,t.jsxs)("button",{onClick:()=>s(r.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${e===r.id?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-700 hover:text-white"}`,children:[(0,t.jsx)("span",{className:"text-xl",children:r.icon}),(0,t.jsx)("span",{className:"font-medium",children:r.label})]},r.id))}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-700 text-xs text-gray-500 text-center",children:"v2.0 â€¢ Client-Side â€¢ GitHub Pages"})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,t.jsx)("header",{className:"h-16 bg-gray-800/50 border-b border-gray-700 flex items-center px-8 backdrop-blur",children:(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-200",children:[i.find(t=>t.id===e)?.label," Viewer"]})}),(0,t.jsx)("main",{className:"flex-1 overflow-auto p-8 bg-black/50",children:r})]})]})}class i{data;generator=null;constructor(e=50){this.data=Array.from({length:e},()=>Math.floor(100*Math.random()))}init(e){this.data=Array.from({length:e},()=>Math.floor(100*Math.random())),this.generator=null}reset(e=50){return e!==this.data.length?this.data=Array.from({length:e},()=>Math.floor(100*Math.random())):this.data=Array.from({length:this.data.length},()=>Math.floor(100*Math.random())),this.generator=null,[...this.data]}*bubbleSort(e){let t=e.length,s=[...e];for(let e=0;e<t;e++){let r=!1;for(let i=0;i<t-e-1;i++)yield{data:[...s],indices:[i,i+1],swapped:[],done:!1},s[i]>s[i+1]&&([s[i],s[i+1]]=[s[i+1],s[i]],r=!0,yield{data:[...s],indices:[i,i+1],swapped:[i,i+1],done:!1});if(!r)break}yield{data:[...s],indices:[],swapped:[],done:!0}}*quickSort(e,t,s){if(t<s){let r=e[s],i=t-1;for(let l=t;l<s;l++)yield{data:[...e],indices:[l,s],swapped:[],done:!1},e[l]<=r&&(i++,[e[i],e[l]]=[e[l],e[i]],yield{data:[...e],indices:[i,l],swapped:[i,l],done:!1});[e[i+1],e[s]]=[e[s],e[i+1]],yield{data:[...e],indices:[i+1,s],swapped:[i+1,s],done:!1};let l=i+1;yield*this.quickSort(e,t,l-1),yield*this.quickSort(e,l+1,s)}0===t&&s===e.length-1&&(yield{data:[...e],indices:[],swapped:[],done:!0})}*mergeSort(e,t,s){if(t<s){let r=Math.floor((t+s)/2);yield*this.mergeSort(e,t,r),yield*this.mergeSort(e,r+1,s),yield*this.merge(e,t,r,s)}0===t&&s===e.length-1&&(yield{data:[...e],indices:[],swapped:[],done:!0})}*merge(e,t,s,r){let i=s-t+1,l=r-s,a=e.slice(t,s+1),n=e.slice(s+1,r+1),o=0,d=0,h=t;for(;o<i&&d<l;)yield{data:[...e],indices:[t+o,s+1+d],swapped:[],done:!1},a[o]<=n[d]?(e[h]=a[o],o++):(e[h]=n[d],d++),yield{data:[...e],indices:[h],swapped:[h],done:!1},h++;for(;o<i;)e[h]=a[o],o++,yield{data:[...e],indices:[h],swapped:[h],done:!1},h++;for(;d<l;)e[h]=n[d],d++,yield{data:[...e],indices:[h],swapped:[h],done:!1},h++}*heapSort(e){let t=e.length;for(let s=Math.floor(t/2)-1;s>=0;s--)yield*this.heapify(e,t,s);for(let s=t-1;s>0;s--)[e[0],e[s]]=[e[s],e[0]],yield{data:[...e],indices:[0,s],swapped:[0,s],done:!1},yield*this.heapify(e,s,0);yield{data:[...e],indices:[],swapped:[],done:!0}}*heapify(e,t,s){let r=s,i=2*s+1,l=2*s+2;i<t&&e[i]>e[r]&&(r=i),l<t&&e[l]>e[r]&&(r=l),r!==s&&([e[s],e[r]]=[e[r],e[s]],yield{data:[...e],indices:[s,r],swapped:[s,r],done:!1},yield*this.heapify(e,t,r))}start(e){let t=[...this.data];"bubble"===e?this.generator=this.bubbleSort(t):"quick"===e?this.generator=this.quickSort(t,0,t.length-1):"merge"===e?this.generator=this.mergeSort(t,0,t.length-1):"heap"===e&&(this.generator=this.heapSort(t))}step(){if(!this.generator)return null;let e=this.generator.next();return e.done?{data:this.data,indices:[],swapped:[],done:!0}:e.value}}function l(){let[e]=(0,s.useState)(()=>new i(50)),[r,l]=(0,s.useState)([]),[a,n]=(0,s.useState)([]),[o,d]=(0,s.useState)([]),[h,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)("bubble"),[g,p]=(0,s.useState)(50),[f,m]=(0,s.useState)(50),b=(0,s.useRef)(null),[y,v]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{y&&!b.current?b.current=new(window.AudioContext||window.webkitAudioContext):!y&&b.current&&(b.current.close(),b.current=null)},[y]),(0,s.useEffect)(()=>{e.init(f),l(e.reset())},[f]),(0,s.useEffect)(()=>{l(e.reset())},[]),(0,s.useEffect)(()=>{if(!h)return;let t=setInterval(()=>{let t=e.step();t?(l(t.data),n(t.indices),d(t.swapped),t.done&&c(!1)):c(!1)},105-g);return()=>clearInterval(t)},[h,g]),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-6 items-center bg-gray-800 p-4 rounded-xl border border-gray-700",children:[(0,t.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"bg-gray-900 border border-gray-600 rounded px-4 py-2 text-white outline-none focus:border-blue-500",children:[(0,t.jsx)("option",{value:"bubble",children:"Bubble Sort"}),(0,t.jsx)("option",{value:"quick",children:"Quick Sort"}),(0,t.jsx)("option",{value:"merge",children:"Merge Sort"}),(0,t.jsx)("option",{value:"heap",children:"Heap Sort"})]}),(0,t.jsx)("button",{onClick:()=>{e.reset(),e.start(u),c(!0)},className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded font-bold transition-colors",disabled:h,children:h?"Sorting...":"Start Visualization"})]}),(0,t.jsxs)("div",{className:"flex gap-6 mb-4 items-center bg-gray-800 px-4 py-2 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("label",{className:"text-sm text-gray-400",children:["Size: ",f]}),(0,t.jsx)("input",{type:"range",min:"10",max:"100",value:f,onChange:e=>m(parseInt(e.target.value)),className:"w-32 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer",disabled:h})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-400",children:"Speed"}),(0,t.jsx)("input",{type:"range",min:"1",max:"100",value:g,onChange:e=>p(parseInt(e.target.value)),className:"w-32 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]})]}),(0,t.jsxs)("div",{className:"flex-1 bg-black rounded-xl border border-gray-700 p-8 flex items-end justify-center gap-1 relative overflow-hidden",children:[r.map((e,s)=>{let r="bg-blue-500";return o.includes(s)?r="bg-red-500":a.includes(s)&&(r="bg-yellow-400"),(0,t.jsx)("div",{className:`flex-1 transition-all duration-75 ${r} rounded-t-sm flex items-end justify-center group relative`,style:{height:`${e}%`},children:(0,t.jsx)("span",{className:"text-[10px] text-white opacity-100 mb-1 font-mono absolute bottom-0",children:e})},s)}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 text-gray-400 font-mono text-sm",children:["Array Size: ",r.length]})]})]})}class a{nodes;generator=null;startId=0;endId=0;constructor(e=20){this.nodes=[],this.init(e)}init(e){this.nodes=[];for(let t=0;t<e;t++)this.nodes.push({id:t,x:80*Math.random()+10,y:80*Math.random()+10,neighbors:[]});for(let t=0;t<e;t++)for(let s=t+1;s<e;s++)30>Math.hypot(this.nodes[t].x-this.nodes[s].x,this.nodes[t].y-this.nodes[s].y)&&(this.nodes[t].neighbors.push({id:s,weight:1}),this.nodes[s].neighbors.push({id:t,weight:1}));this.startId=0,this.endId=e-1}addNode(){let e=this.nodes.length;this.nodes.push({id:e,x:80*Math.random()+10,y:80*Math.random()+10,neighbors:[]})}addEdge(e,t,s=1){if(e===t)return;let r=this.nodes[e],i=this.nodes[t],l=r.neighbors.find(e=>e.id===t);if(l){l.weight=s;let t=i.neighbors.find(t=>t.id===e);t&&(t.weight=s)}else r.neighbors.push({id:t,weight:s}),i.neighbors.push({id:e,weight:s})}toggleEdge(e,t){let s=this.nodes[e],r=this.nodes[t],i=s.neighbors.findIndex(e=>e.id===t);if(-1!==i){s.neighbors.splice(i,1);let t=r.neighbors.findIndex(t=>t.id===e);-1!==t&&r.neighbors.splice(t,1)}else s.neighbors.push({id:t,weight:1}),r.neighbors.push({id:e,weight:1})}setEdgeWeight(e,t,s){let r=this.nodes[e],i=this.nodes[t],l=r.neighbors.find(e=>e.id===t);l&&(l.weight=s);let a=i.neighbors.find(t=>t.id===e);a&&(a.weight=s)}*bfs(e,t){let s=[e],r=new Set,i=new Map;for(r.add(e);s.length>0;){let e=s.shift();if(yield{visited:Array.from(r),path:[],current:e,done:!1},e===t){let e=[t],s=t;for(;i.has(s);)e.unshift(s=i.get(s));yield{visited:Array.from(r),path:e,current:null,done:!0};return}for(let t of this.nodes[e].neighbors)r.has(t.id)||(r.add(t.id),i.set(t.id,e),s.push(t.id))}yield{visited:Array.from(r),path:[],current:null,done:!0}}*dfs(e,t){let s=[e],r=new Set,i=new Map;for(;s.length>0;){let e=s.pop();if(!r.has(e)){if(r.add(e),yield{visited:Array.from(r),path:[],current:e,done:!1},e===t){let e=[t],s=t;for(;i.has(s);)e.unshift(s=i.get(s));yield{visited:Array.from(r),path:e,current:null,done:!0};return}for(let t of this.nodes[e].neighbors)r.has(t.id)||(i.set(t.id,e),s.push(t.id))}}yield{visited:Array.from(r),path:[],current:null,done:!0}}*dijkstra(e,t){let s=new Map,r=new Map,i=new Set;for(let e of this.nodes)s.set(e.id,1/0),i.add(e.id);s.set(e,0);let l=new Set;for(;i.size>0;){let e=-1,a=1/0;for(let t of i)s.get(t)<a&&(a=s.get(t),e=t);if(-1===e||a===1/0)break;if(i.delete(e),l.add(e),yield{visited:Array.from(l),path:[],current:e,done:!1},e===t){let e=[t],s=t;for(;r.has(s);)e.unshift(s=r.get(s));yield{visited:Array.from(l),path:e,current:null,done:!0};return}for(let t of this.nodes[e].neighbors)if(i.has(t.id)){let i=s.get(e)+t.weight;i<s.get(t.id)&&(s.set(t.id,i),r.set(t.id,e))}}yield{visited:Array.from(l),path:[],current:null,done:!0}}*astar(e,t){this.nodes[e];let s=this.nodes[t],r=e=>{let t=this.nodes[e];return+Math.hypot(t.x-s.x,t.y-s.y)},i=new Set([e]),l=new Map,a=new Map;a.set(e,0);let n=new Map;n.set(e,r(e));let o=new Set;for(;i.size>0;){let e=-1,s=1/0;for(let t of i){let r=n.get(t)??1/0;r<s&&(s=r,e=t)}if(e===t){let e=[t],s=t;for(;l.has(s);)e.unshift(s=l.get(s));yield{visited:Array.from(o),path:e,current:null,done:!0};return}for(let t of(i.delete(e),o.add(e),yield{visited:Array.from(o),path:[],current:e,done:!1},this.nodes[e].neighbors)){let s=a.get(e)+t.weight;s<(a.get(t.id)??1/0)&&(l.set(t.id,e),a.set(t.id,s),n.set(t.id,s+r(t.id)),o.has(t.id)||i.add(t.id))}}yield{visited:Array.from(o),path:[],current:null,done:!0}}start(e,t,s){void 0!==t&&(this.startId=t),void 0!==s&&(this.endId=s),"bfs"===e?this.generator=this.bfs(this.startId,this.endId):"dfs"===e?this.generator=this.dfs(this.startId,this.endId):"dijkstra"===e?this.generator=this.dijkstra(this.startId,this.endId):"astar"===e&&(this.generator=this.astar(this.startId,this.endId))}step(){if(!this.generator)return null;let e=this.generator.next();return e.done?{visited:[],path:[],current:null,done:!0}:e.value}}function n(){let[e]=(0,s.useState)(()=>new a(30)),[r,i]=(0,s.useState)(null),[l,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)("bfs"),[h,c]=(0,s.useState)(20),[u,x]=(0,s.useState)(!0),[g,p]=(0,s.useState)(null),[f,m]=(0,s.useState)("view"),[b,y]=(0,s.useState)(null),[v,w]=(0,s.useState)(null),[j,N]=(0,s.useState)(0),[S,k]=(0,s.useState)(null),[M,C]=(0,s.useState)([]),I=()=>{C(t=>[...t,JSON.stringify(e.nodes)])};(0,s.useEffect)(()=>{e.init(h),N(0),k(h-1),i(null)},[h]);let A=()=>{p(null)};return(0,s.useEffect)(()=>{if(!l)return;let t=setInterval(()=>{let t=e.step();t?(i(t),t.done&&n(!1)):n(!1)},100);return()=>clearInterval(t)},[l]),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-6 items-center bg-gray-800 p-4 rounded-xl border border-gray-700 flex-wrap",children:[(0,t.jsxs)("select",{value:o,onChange:e=>d(e.target.value),className:"bg-gray-900 border border-gray-600 rounded px-4 py-2 text-white",children:[(0,t.jsx)("option",{value:"bfs",children:"Breadth-First Search (BFS)"}),(0,t.jsx)("option",{value:"dfs",children:"Depth-First Search (DFS)"}),(0,t.jsx)("option",{value:"dijkstra",children:"Dijkstra's Algorithm"}),(0,t.jsx)("option",{value:"astar",children:"A* Search"})]}),(0,t.jsxs)("div",{className:"flex bg-gray-900 rounded-lg p-1 border border-gray-600",children:[(0,t.jsx)("button",{onClick:()=>m("view"),className:`px-3 py-1 rounded ${"view"===f?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"View"}),(0,t.jsx)("button",{onClick:()=>{m("add_node"),w(null)},className:`px-3 py-1 rounded ${"add_node"===f?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"Add Node"}),(0,t.jsx)("button",{onClick:()=>{m("add_path"),w(null)},className:`px-3 py-1 rounded ${"add_path"===f?"bg-blue-900 text-blue-100":"text-gray-400 hover:text-white"}`,children:"Draw Path"}),(0,t.jsx)("button",{onClick:()=>{m("add_edge"),w(null)},className:`px-3 py-1 rounded ${"add_edge"===f?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,children:"Add Edge"}),(0,t.jsx)("button",{onClick:()=>m("set_start"),className:`px-3 py-1 rounded ${"set_start"===f?"bg-green-900 text-green-100":"text-gray-400 hover:text-white"}`,children:"Set Start"}),(0,t.jsx)("button",{onClick:()=>m("set_target"),className:`px-3 py-1 rounded ${"set_target"===f?"bg-purple-900 text-purple-100":"text-gray-400 hover:text-white"}`,children:"Set Target"}),(0,t.jsx)("button",{onClick:()=>m("edit_weight"),className:`px-3 py-1 rounded ${"edit_weight"===f?"bg-yellow-900 text-yellow-100":"text-gray-400 hover:text-white"}`,children:"Edit Weight"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{className:"text-sm text-gray-400",children:"Show Weights"}),(0,t.jsx)("input",{type:"checkbox",checked:u,onChange:e=>x(e.target.checked),className:"w-4 h-4 rounded bg-gray-700 border-gray-500"})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,t.jsx)("button",{onClick:()=>{if(0===M.length)return;let t=M[M.length-1];C(M.slice(0,-1)),e.nodes=JSON.parse(t),i(null)},disabled:0===M.length,className:`px-4 py-2 rounded font-bold text-white shadow-lg ${0===M.length?"bg-gray-600 opacity-50":"bg-gray-600 hover:bg-gray-500"}`,children:"Undo"}),(0,t.jsx)("button",{onClick:()=>{null!==S&&(e.start(o,j,S),n(!0))},className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 rounded font-bold text-white shadow-lg",disabled:l,children:l?"Running...":"Run Algorithm"}),(0,t.jsx)("button",{onClick:()=>{e.init(h),N(0),k(h-1),i(null),n(!1)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white",children:"Reset Graph"})]})]}),(0,t.jsxs)("div",{className:`flex-1 bg-black rounded-xl border border-gray-700 relative overflow-hidden ${"add_node"===f?"cursor-crosshair":""}`,onMouseMove:t=>{if(null!==g&&"view"===f){let s=t.currentTarget.getBoundingClientRect(),r=(t.clientX-s.left)/s.width*100,l=(t.clientY-s.top)/s.height*100;e.nodes[g].x=r,e.nodes[g].y=l,i(e=>e?{...e}:null)}},onMouseUp:A,onMouseLeave:A,onClick:t=>{if("add_node"===f||"add_path"===f){I();let s=t.currentTarget.getBoundingClientRect(),r=(t.clientX-s.left)/s.width*100,l=(t.clientY-s.top)/s.height*100;e.addNode();let a=e.nodes.length-1,n=e.nodes[a];n.x=r,n.y=l,"add_path"===f&&(null!==v&&e.addEdge(v,a,1),w(a)),i(null)}},children:[(0,t.jsxs)("svg",{className:"w-full h-full",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"20",refY:"3.5",orient:"auto",children:(0,t.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6B7280"})})}),e.nodes.map(s=>s.neighbors.map(r=>{let l=e.nodes[r.id];return!l||s.id>l.id?null:(0,t.jsxs)("g",{children:[(0,t.jsx)("line",{x1:`${s.x}%`,y1:`${s.y}%`,x2:`${l.x}%`,y2:`${l.y}%`,stroke:"edit_weight"===f&&(b===s.id||b===l.id)?"#F59E0B":"#374151",strokeWidth:"edit_weight"===f?"4":"2",className:"cursor-pointer",onClick:t=>{if("edit_weight"===f){t.stopPropagation();let a=prompt("Enter new weight:",r.weight.toString());if(null!==a){let t=parseInt(a)||1;e.setEdgeWeight(s.id,l.id,t),i(null)}}}}),u&&(0,t.jsx)("text",{x:`${(s.x+l.x)/2}%`,y:`${(s.y+l.y)/2}%`,fill:"#9CA3AF",fontSize:"12",fontWeight:"bold",textAnchor:"middle",dy:"-5",className:"select-none pointer-events-none",children:r.weight})]},`${s.id}-${l.id}`)})),r?.path.map((s,i)=>{if(0===i)return null;let l=e.nodes[r.path[i-1]],a=e.nodes[s];return(0,t.jsx)("line",{x1:`${l.x}%`,y1:`${l.y}%`,x2:`${a.x}%`,y2:`${a.y}%`,stroke:"#10B981",strokeWidth:"4"},`path-${i}`)}),e.nodes.map(s=>{let l="#4B5563";r?.visited.includes(s.id)&&(l="#3B82F6"),r?.current===s.id&&(l="#F59E0B"),r?.path.includes(s.id)&&(l="#10B981"),s.id===j&&(l="#DC2626"),s.id===S&&(l="#8B5CF6");let a=b===s.id;return(0,t.jsxs)("g",{children:[(0,t.jsx)("circle",{cx:`${s.x}%`,cy:`${s.y}%`,r:"2%",fill:l,stroke:a?"white":"none",strokeWidth:a?"3":"0",className:"cursor-pointer transition-colors duration-200 hover:opacity-80",onMouseDown:t=>((t,s)=>{if(t.stopPropagation(),"add_edge"===f)null===b?y(s):b===s?y(null):(I(),e.toggleEdge(b,s),y(null),i(null));else if("set_start"===f)N(s);else if("set_target"===f)k(s);else if("edit_weight"===f)if(null===b)y(s);else{let t=e.nodes[b].neighbors.find(e=>e.id===s);if(t){let r=prompt("Enter new weight:",t.weight.toString());if(null!==r){I();let t=parseInt(r)||1;e.setEdgeWeight(b,s,t),i(null)}}y(null)}else"view"===f&&p(s)})(t,s.id)}),(0,t.jsx)("text",{x:`${s.x}%`,y:`${s.y}%`,dy:"0.3em",textAnchor:"middle",fill:"white",fontSize:"12",className:"select-none pointer-events-none font-bold",children:s.id})]},s.id)})]}),"edit_weight"===f&&(0,t.jsx)("div",{className:"absolute top-4 right-4 bg-black/80 text-white p-2 rounded text-sm pointer-events-none",children:"Click an edge to edit weight (or select two nodes)"})]})]})}class o{rows;cols;grid;current=null;stack=[];generator=null;constructor(e=20,t=20){this.rows=e,this.cols=t,this.grid=[],this.init()}init(e=0,t=0){this.grid=[];for(let e=0;e<this.rows;e++)for(let t=0;t<this.cols;t++)this.grid.push({x:t,y:e,walls:[!0,!0,!0,!0],visited:!1});this.current=this.grid[this.index(e,t)],this.current||(this.current=this.grid[0]),0===this.current.x?this.current.walls[3]=!1:0===this.current.y&&(this.current.walls[0]=!1),this.index(this.cols-1,this.rows-1),this.grid[this.grid.length-1].walls[1]=!1,this.current.visited=!0,this.stack=[],this.generator=this.generate()}index(e,t){return e<0||t<0||e>=this.cols||t>=this.rows?-1:e+t*this.cols}removeWalls(e,t){let s=e.x-t.x;1===s?(e.walls[3]=!1,t.walls[1]=!1):-1===s&&(e.walls[1]=!1,t.walls[3]=!1);let r=e.y-t.y;1===r?(e.walls[0]=!1,t.walls[2]=!1):-1===r&&(e.walls[2]=!1,t.walls[0]=!1)}*generate(){for(;;){let e=[],t=this.grid[this.index(this.current.x,this.current.y-1)],s=this.grid[this.index(this.current.x+1,this.current.y)],r=this.grid[this.index(this.current.x,this.current.y+1)],i=this.grid[this.index(this.current.x-1,this.current.y)];if(t&&!t.visited&&e.push(t),s&&!s.visited&&e.push(s),r&&!r.visited&&e.push(r),i&&!i.visited&&e.push(i),e.length>0){let t=e[Math.floor(Math.random()*e.length)];this.stack.push(this.current),this.removeWalls(this.current,t),this.current=t,this.current.visited=!0,yield this.current}else if(this.stack.length>0)this.current=this.stack.pop(),yield this.current;else break}}step(){this.generator&&this.generator.next()}solve(e,t,s,r){let i=this.index(e,t),l=this.index(s,r);if(-1===i||-1===l)return[];let a=[];a.push({cell:this.grid[i],path:[this.grid[i]]});let n=new Set;for(n.add(i);a.length>0;){let{cell:e,path:t}=a.shift();if(e.x===s&&e.y===r)return t;if(!e.walls[0]){let s=this.index(e.x,e.y-1);-1===s||n.has(s)||(n.add(s),a.push({cell:this.grid[s],path:[...t,this.grid[s]]}))}if(!e.walls[1]){let s=this.index(e.x+1,e.y);-1===s||n.has(s)||(n.add(s),a.push({cell:this.grid[s],path:[...t,this.grid[s]]}))}if(!e.walls[2]){let s=this.index(e.x,e.y+1);-1===s||n.has(s)||(n.add(s),a.push({cell:this.grid[s],path:[...t,this.grid[s]]}))}if(!e.walls[3]){let s=this.index(e.x-1,e.y);-1===s||n.has(s)||(n.add(s),a.push({cell:this.grid[s],path:[...t,this.grid[s]]}))}}return[]}}function d(){let e=(0,s.useRef)(null),[r]=(0,s.useState)(()=>new o(30,40)),[i,l]=(0,s.useState)(!1),[a,n]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[c,u]=(0,s.useState)("generate"),[x,g]=(0,s.useState)([]);(0,s.useEffect)(()=>{if(!i)return;let e=setInterval(()=>{r.step(),f(),0===r.stack.length&&r.current===r.grid[0]&&l(!1)},20);return()=>clearInterval(e)},[i]);let p=(0,s.useRef)([]);(0,s.useEffect)(()=>{p.current=x,f()},[x]);let f=()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(s){s.fillStyle="#111827",s.fillRect(0,0,t.width,t.height);for(let e=0;e<r.grid.length;e++){let t=r.grid[e],i=20*t.x,l=20*t.y;t.visited&&(s.fillStyle="#1F2937",s.fillRect(i,l,20,20)),r.current===t&&(s.fillStyle="#8B5CF6",s.fillRect(i,l,20,20)),a&&a.x===t.x&&a.y===t.y&&(s.fillStyle="#10B981",s.fillRect(i+4,l+4,12,12)),d&&d.x===t.x&&d.y===t.y&&(s.fillStyle="#EF4444",s.fillRect(i+4,l+4,12,12)),s.strokeStyle="#374151",s.lineWidth=2,s.beginPath(),t.walls[0]&&(s.moveTo(i,l),s.lineTo(i+20,l)),t.walls[1]&&(s.moveTo(i+20,l),s.lineTo(i+20,l+20)),t.walls[2]&&(s.moveTo(i+20,l+20),s.lineTo(i,l+20)),t.walls[3]&&(s.moveTo(i,l+20),s.lineTo(i,l)),s.stroke()}if(p.current.length>0){s.strokeStyle="#FCD34D",s.lineWidth=4,s.lineCap="round",s.lineJoin="round",s.beginPath();let e=20*p.current[0].x+10,t=20*p.current[0].y+10;s.moveTo(e,t);for(let e=1;e<p.current.length;e++){let t=20*p.current[e].x+10,r=20*p.current[e].y+10;s.lineTo(t,r)}s.stroke()}}};return(0,s.useEffect)(()=>{f()},[a,d,c]),(0,t.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4 items-center",children:[(0,t.jsx)("button",{onClick:()=>{g([]);let e=a?a.x:0,t=a?a.y:0;a||n({x:0,y:0}),d||h({x:r.cols-1,y:r.rows-1}),r.init(e,t),l(!0)},className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 rounded font-bold text-white",children:"Generate Maze"}),(0,t.jsxs)("div",{className:"flex bg-gray-800 rounded p-1 gap-2",children:[(0,t.jsx)("button",{onClick:()=>u("pick_start"),className:`px-3 py-1 rounded ${"pick_start"===c?"bg-green-600":"hover:bg-gray-700"}`,children:"Set Start"}),(0,t.jsx)("button",{onClick:()=>u("pick_end"),className:`px-3 py-1 rounded ${"pick_end"===c?"bg-red-600":"hover:bg-gray-700"}`,children:"Set End"}),(0,t.jsx)("button",{onClick:()=>{a&&d&&g(r.solve(a.x,a.y,d.x,d.y))},className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 rounded font-bold text-white text-sm",children:"Trace Path"})]})]}),(0,t.jsx)("canvas",{ref:e,width:800,height:600,className:"bg-gray-900 rounded border border-gray-700 shadow-xl cursor-crosshair",onClick:t=>{let s=e.current;if(!s)return;let i=s.getBoundingClientRect(),l=s.width/i.width,a=s.height/i.height,o=Math.floor((t.clientX-i.left)*l/20),d=Math.floor((t.clientY-i.top)*a/20);o>=0&&o<r.cols&&d>=0&&d<r.rows&&("pick_start"===c?n({x:o,y:d}):"pick_end"===c&&h({x:o,y:d})),f()}})]})}class h{nodes;edges;generator=null;log=[];sourceId=0;sinkId=5;constructor(){this.nodes=[{id:0,x:100,y:300,label:"S"},{id:1,x:300,y:150,label:"A"},{id:2,x:300,y:450,label:"B"},{id:3,x:500,y:150,label:"C"},{id:4,x:500,y:450,label:"D"},{id:5,x:700,y:300,label:"T"}],this.edges=[{id:"e1",source:0,target:1,capacity:10,flow:0},{id:"e2",source:0,target:2,capacity:10,flow:0},{id:"e3",source:1,target:2,capacity:2,flow:0},{id:"e4",source:1,target:3,capacity:4,flow:0},{id:"e5",source:1,target:4,capacity:8,flow:0},{id:"e6",source:2,target:4,capacity:9,flow:0},{id:"e7",source:3,target:5,capacity:10,flow:0},{id:"e8",source:4,target:3,capacity:6,flow:0},{id:"e9",source:4,target:5,capacity:10,flow:0}]}addNode(e,t){let s=this.nodes.length;this.nodes.push({id:s,x:e,y:t,label:String(s)})}addEdge(e,t,s){this.edges.push({id:`e-${Date.now()}`,source:e,target:t,capacity:s,flow:0})}resetFlow(){this.edges.forEach(e=>e.flow=0),this.log=[]}*maxFlow(){this.resetFlow();let e=this.sourceId,t=this.sinkId;if(e===t)return this.log.push("Source and Sink cannot be the same."),{done:!0,maxFlow:0};if(e>=this.nodes.length||t>=this.nodes.length)return this.log.push("Invalid Source or Sink."),{done:!0,maxFlow:0};let s=0;for(;;){let r=new Map,i=[e],l=new Set([e]),a=!1;for(;i.length>0;){let e=i.shift();if(e===t){a=!0;break}for(let t of this.edges)t.source===e&&!l.has(t.target)&&t.capacity>t.flow&&(l.add(t.target),r.set(t.target,{edge:t,dir:"forward"}),i.push(t.target)),t.target===e&&!l.has(t.source)&&t.flow>0&&(l.add(t.source),r.set(t.source,{edge:t,dir:"backward"}),i.push(t.source))}let n=[];for(let e of this.edges)e.capacity>e.flow&&n.push({source:e.source,target:e.target,cap:e.capacity-e.flow,isBack:!1}),e.flow>0&&n.push({source:e.target,target:e.source,cap:e.flow,isBack:!0});if(!a){yield{maxFlow:s,pathEdges:[],residualEdges:n,done:!1};break}let o=1/0,d=t,h=[];for(;d!==e;){let e=r.get(d);o="forward"===e.dir?Math.min(o,e.edge.capacity-e.edge.flow):Math.min(o,e.edge.flow),h.push(e.edge.id),d="forward"===e.dir?e.edge.source:e.edge.target}for(d=t;d!==e;){let e=r.get(d);"forward"===e.dir?(e.edge.flow+=o,d=e.edge.source):(e.edge.flow-=o,d=e.edge.target)}s+=o,this.log.push(`Augmented flow by ${o}. Total: ${s}`),yield{maxFlow:s,pathEdges:h,residualEdges:n,done:!1,minCut:[]}}let r=[e],i=new Set([e]);for(;r.length>0;){let e=r.shift();for(let t of this.edges)t.source===e&&!i.has(t.target)&&t.capacity>t.flow&&(i.add(t.target),r.push(t.target)),t.target===e&&!i.has(t.source)&&t.flow>0&&(i.add(t.source),r.push(t.source))}let l=Array.from(i);return this.log.push(`Max Flow calculation complete. Max Flow: ${s}`),this.log.push(`Min-Cut (Reachable from Source): [${l.join(", ")}]`),{done:!0,maxFlow:s,minCut:l}}step(){return this.generator?this.generator.next():{done:!0}}}function c(){let[e]=(0,s.useState)(()=>new h),[r,i]=(0,s.useState)(!1),[l,a]=(0,s.useState)([]),[n,o]=(0,s.useState)([]),[d,c]=(0,s.useState)([]),[u,x]=(0,s.useState)(null),[g,p]=(0,s.useState)("view"),[f,m]=(0,s.useState)(null),[b,y]=(0,s.useState)([]),[v,w]=(0,s.useState)([]),j=()=>{y(t=>[...t,JSON.stringify({nodes:e.nodes,edges:e.edges,sourceId:e.sourceId,sinkId:e.sinkId})])};return(0,s.useEffect)(()=>{if(!r)return;let t=setInterval(()=>{let t=e.step();if(t&&!t.done)o(t.value.pathEdges||[]),c(t.value.residualEdges||[]),a([...e.log]);else if(i(!1),o([]),c([]),t.value&&(a(e=>[...e,`Max Flow: ${t.value.maxFlow}`]),t.value.minCut)){w(t.value.minCut);let s=0;e.edges.forEach(e=>{t.value.minCut.includes(e.source)&&!t.value.minCut.includes(e.target)&&(s+=e.capacity)}),a(e=>[...e,`Min Cut Capacity: ${s}`,"(Max Flow == Min Cut)"])}},500);return()=>clearInterval(t)},[r]),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4 items-center bg-gray-800 p-4 rounded-xl border border-gray-700 overflow-x-auto",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-400 whitespace-nowrap",children:"Max Flow"}),(0,t.jsxs)("div",{className:"flex bg-gray-700 rounded p-1 gap-1",children:[(0,t.jsx)("button",{onClick:()=>p("view"),className:`px-3 py-1 rounded text-sm ${"view"===g?"bg-blue-600 text-white":"hover:bg-gray-600 text-gray-300"}`,children:"View"}),(0,t.jsx)("button",{onClick:()=>p("add_node"),className:`px-3 py-1 rounded text-sm ${"add_node"===g?"bg-blue-600 text-white":"hover:bg-gray-600 text-gray-300"}`,children:"+ Node"}),(0,t.jsx)("button",{onClick:()=>p("add_edge"),className:`px-3 py-1 rounded text-sm ${"add_edge"===g?"bg-blue-600 text-white":"hover:bg-gray-600 text-gray-300"}`,children:"+ Edge"}),(0,t.jsx)("button",{onClick:()=>p("edit_cap"),className:`px-3 py-1 rounded text-sm ${"edit_cap"===g?"bg-blue-600 text-white":"hover:bg-gray-600 text-gray-300"}`,children:"Edit Cap"}),(0,t.jsx)("button",{onClick:()=>p("set_source"),className:`px-3 py-1 rounded text-sm ${"set_source"===g?"bg-green-600 text-white":"hover:bg-gray-600 text-gray-300"}`,children:"Source"}),(0,t.jsx)("button",{onClick:()=>p("set_sink"),className:`px-3 py-1 rounded text-sm ${"set_sink"===g?"bg-red-600 text-white":"hover:bg-gray-600 text-gray-300"}`,children:"Sink"})]}),(0,t.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,t.jsx)("button",{onClick:()=>{if(0===b.length)return;let t=b[b.length-1];y(b.slice(0,-1));let s=JSON.parse(t);e.nodes=s.nodes,e.edges=s.edges,e.sourceId=s.sourceId,e.sinkId=s.sinkId,o([]),c([]),a([])},disabled:0===b.length,className:`px-4 py-2 rounded font-bold text-white shadow-lg text-sm whitespace-nowrap ${0===b.length?"bg-gray-600 opacity-50":"bg-gray-600 hover:bg-gray-500"}`,children:"Undo"}),(0,t.jsx)("button",{onClick:()=>{e.edges.forEach(e=>e.flow=0),a([]),c([]),o([]),w([]),i(!1)},className:"px-4 py-2 bg-yellow-700 hover:bg-yellow-600 rounded font-bold text-white text-sm whitespace-nowrap",children:"Reset Flow"}),(0,t.jsx)("button",{onClick:()=>{e.generator=e.maxFlow(),i(!0),w([])},className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded font-bold text-white text-sm whitespace-nowrap",disabled:r,children:r?"Calculating...":"Run"})]})]}),(0,t.jsxs)("div",{className:"flex flex-1 gap-4 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex-[2] flex flex-col bg-black rounded-xl border border-gray-700 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-900 border-b border-gray-800 font-bold text-gray-300 text-sm",children:"Flow Network"}),(0,t.jsx)("div",{className:`flex-1 relative ${"add_node"===g?"cursor-crosshair":"cursor-default"}`,onMouseMove:t=>{if(null!==u){let s=t.currentTarget.getBoundingClientRect();e.nodes[u].x=t.clientX-s.left,e.nodes[u].y=t.clientY-s.top,a([...e.log])}},onClick:t=>{if("add_node"===g){j();let s=t.currentTarget.getBoundingClientRect();e.addNode(t.clientX-s.left,t.clientY-s.top),a([...e.log])}},onMouseUp:()=>x(null),onMouseLeave:()=>x(null),children:(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 800 600",preserveAspectRatio:"xMidYMid meet",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"28",refY:"3.5",orient:"auto",children:(0,t.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#4B5563"})})}),e.edges.map(s=>{let r=e.nodes[s.source],i=e.nodes[s.target],l=n.includes(s.id);return(0,t.jsxs)("g",{onClick:t=>{t.stopPropagation(),"edit_cap"===g&&(j(),s.capacity=s.capacity%20+1,a([...e.log]))},className:"edit_cap"===g?"cursor-pointer hover:opacity-80":"",children:[(0,t.jsx)("line",{x1:r.x,y1:r.y,x2:i.x,y2:i.y,stroke:l?"#10B981":"#4B5563",strokeWidth:l?4:2,markerEnd:"url(#arrowhead)"}),(0,t.jsxs)("text",{x:(r.x+i.x)/2,y:(r.y+i.y)/2-5,fill:l?"#10B981":"#9CA3AF",fontSize:"12",textAnchor:"middle",className:"font-mono bg-black select-none",children:[s.flow,"/",s.capacity]})]},s.id)}),e.edges.map(s=>{let r=v.includes(s.source),i=v.includes(s.target);if(r&&!i){let r=e.nodes[s.source],i=e.nodes[s.target];return(0,t.jsx)("line",{x1:r.x,y1:r.y,x2:i.x,y2:i.y,stroke:"#EF4444",strokeWidth:"6",strokeOpacity:"0.5",strokeDasharray:"10 5"},`cut-${s.id}`)}return null}),e.nodes.map(s=>{let r=v.includes(s.id);return(0,t.jsxs)("g",{transform:`translate(${s.x},${s.y})`,className:`cursor-pointer ${"add_edge"===g&&f===s.id?"stroke-yellow-400":"stroke-blue-500"}`,onMouseDown:t=>{var r;return r=s.id,void(t.stopPropagation(),"add_edge"===g?null===f?m(r):f!==r&&(j(),e.addEdge(f,r,1),m(null),a([...e.log])):"set_source"===g?(j(),e.sourceId=r,e.nodes[r].label="S",e.nodes.forEach(e=>{e.id!==r&&"S"===e.label&&(e.label=String(e.id))}),a([...e.log])):"set_sink"===g?(j(),e.sinkId=r,e.nodes[r].label="T",e.nodes.forEach(e=>{e.id!==r&&"T"===e.label&&(e.label=String(e.id))}),a([...e.log])):"view"===g&&x(r))},children:[(0,t.jsx)("circle",{r:"20",fill:s.id===e.sourceId?"#065f46":s.id===e.sinkId?"#7f1d1d":r?"#374151":"#111827",stroke:s.id===e.sourceId?"#10B981":s.id===e.sinkId?"#EF4444":r?"#60A5FA":"#3B82F6",strokeWidth:r?3:2}),(0,t.jsx)("text",{dy:"5",textAnchor:"middle",fill:"white",fontWeight:"bold",children:s.label}),r&&(0,t.jsx)("text",{dy:"-25",textAnchor:"middle",fill:"#60A5FA",fontSize:"10",className:"opacity-70",children:"S-Set"})]},s.id)})]})})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col bg-gray-900 rounded-xl border border-gray-700 overflow-hidden",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-800 border-b border-gray-700 font-bold text-gray-300 text-sm",children:"Residual Graph"}),(0,t.jsx)("div",{className:"flex-1 relative",children:(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 800 600",preserveAspectRatio:"xMidYMid meet",children:[(0,t.jsx)("defs",{children:(0,t.jsx)("marker",{id:"arrowhead-res",markerWidth:"8",markerHeight:"6",refX:"24",refY:"3",orient:"auto",children:(0,t.jsx)("polygon",{points:"0 0, 8 3, 0 6",fill:"#F59E0B"})})}),d.map((s,r)=>{let i=e.nodes[s.source],l=e.nodes[s.target];return(0,t.jsxs)("g",{children:[(0,t.jsx)("line",{x1:i.x,y1:i.y,x2:l.x,y2:l.y,stroke:"#F59E0B",strokeWidth:"1.5",strokeDasharray:"4 2",markerEnd:"url(#arrowhead-res)"}),(0,t.jsx)("text",{x:(2*i.x+l.x)/3,y:(2*i.y+l.y)/3,fill:"#F59E0B",fontSize:"10",textAnchor:"middle",className:"font-mono bg-black select-none font-bold",children:s.cap})]},`res-${r}`)}),e.nodes.map(e=>(0,t.jsxs)("g",{transform:`translate(${e.x},${e.y})`,className:"opacity-50",children:[(0,t.jsx)("circle",{r:"15",fill:"#1F2937",stroke:"#4B5563",strokeWidth:"1"}),(0,t.jsx)("text",{dy:"5",textAnchor:"middle",fill:"gray",fontSize:"10",children:e.label})]},e.id))]})})]}),(0,t.jsxs)("div",{className:"w-48 bg-gray-900 rounded-xl border border-gray-700 p-4 overflow-y-auto font-mono text-xs text-gray-300",children:[(0,t.jsx)("h3",{className:"font-bold text-white mb-2",children:"Log"}),l.map((e,s)=>(0,t.jsx)("div",{className:"mb-1 border-b border-gray-800 pb-1",children:e},s))]})]})]})}function u(){let e=(0,s.useRef)(null),[r,i]=(0,s.useState)(!1),[l,a]=(0,s.useState)("#3B82F6"),[n,o]=(0,s.useState)(5),[d,h]=(0,s.useState)("pen"),[c,u]=(0,s.useState)(null),[x,g]=(0,s.useState)([]);(0,s.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");s&&(s.fillStyle="#000000",s.fillRect(0,0,t.width,t.height),s.lineCap="round",s.lineJoin="round",p())},[]);let p=()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");s&&g(e=>{let r=[...e,s.getImageData(0,0,t.width,t.height)];return r.length>20&&r.shift(),r})},f=()=>{i(!1),u(null)};return(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-center p-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-blue-400 mb-4",children:"Scribble Pad"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4 bg-gray-800 p-4 rounded-xl border border-gray-700 items-center justify-center",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[["#EF4444","#F59E0B","#10B981","#3B82F6","#8B5CF6","#EC4899","#FFFFFF","#000000"].map(e=>(0,t.jsx)("button",{onClick:()=>a(e),className:`w-8 h-8 rounded-full border-2 ${l===e?"border-white scale-110":"border-transparent"}`,style:{backgroundColor:e}},e)),(0,t.jsx)("input",{type:"color",value:l,onChange:e=>a(e.target.value),className:"w-8 h-8 rounded bg-transparent cursor-pointer"})]}),(0,t.jsx)("div",{className:"w-px h-8 bg-gray-600 mx-2"}),(0,t.jsxs)("div",{className:"flex flex-col w-32",children:[(0,t.jsxs)("label",{className:"text-xs text-gray-400",children:["Brush Size: ",n]}),(0,t.jsx)("input",{type:"range",min:"1",max:"50",value:n,onChange:e=>o(parseInt(e.target.value)),className:"h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),(0,t.jsx)("div",{className:"w-px h-8 bg-gray-600 mx-2"}),(0,t.jsxs)("div",{className:"flex gap-1 bg-gray-700 p-1 rounded",children:[(0,t.jsx)("button",{onClick:()=>h("pen"),className:`px-2 py-1 rounded ${"pen"===d?"bg-blue-600 text-white":"text-gray-300"}`,children:"ðŸ–Šï¸"}),(0,t.jsx)("button",{onClick:()=>h("spray"),className:`px-2 py-1 rounded ${"spray"===d?"bg-blue-600 text-white":"text-gray-300"}`,children:"ðŸ’¨"}),(0,t.jsx)("button",{onClick:()=>h("square"),className:`px-2 py-1 rounded ${"square"===d?"bg-blue-600 text-white":"text-gray-300"}`,children:"â¬›"}),(0,t.jsx)("button",{onClick:()=>h("circle"),className:`px-2 py-1 rounded ${"circle"===d?"bg-blue-600 text-white":"text-gray-300"}`,children:"ðŸ”´"})]}),(0,t.jsx)("div",{className:"w-px h-8 bg-gray-600 mx-2"}),(0,t.jsx)("button",{onClick:()=>{if(x.length<=1)return;let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let r=[...x];r.pop();let i=r[r.length-1];s.putImageData(i,0,0),g(r)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded font-bold",children:"Undo"}),(0,t.jsx)("button",{onClick:()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");s&&(p(),s.fillStyle="#000000",s.fillRect(0,0,t.width,t.height))},className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded font-bold",children:"Clear"})]}),(0,t.jsx)("canvas",{ref:e,width:800,height:600,className:"bg-black rounded-xl border border-gray-700 shadow-2xl cursor-crosshair touch-none",onMouseDown:t=>{let s=e.current;if(!s)return;let r=s.getBoundingClientRect();i(!0),u({x:t.clientX-r.left,y:t.clientY-r.top}),p()},onMouseMove:t=>{if(!r||!c)return;let s=e.current;if(!s)return;let i=s.getContext("2d");if(!i)return;let a=s.getBoundingClientRect(),o=t.clientX-a.left,h=t.clientY-a.top;if(i.fillStyle=l,i.strokeStyle=l,i.lineWidth=n,"pen"===d)i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(o,h),i.stroke(),u({x:o,y:h});else if("square"===d)i.fillRect(o-n/2,h-n/2,n,n),u({x:o,y:h});else if("circle"===d)i.beginPath(),i.arc(o,h,n/2,0,2*Math.PI),i.fill(),u({x:o,y:h});else if("spray"===d){for(let e=0;e<2*n;e++){let e=Math.random()*Math.PI*2,t=Math.random()*n*2,s=o+Math.cos(e)*t,r=h+Math.sin(e)*t;i.fillRect(s,r,1,1)}u({x:o,y:h})}},onMouseUp:f,onMouseLeave:f})]})}class x{state;constructor(){this.state={year:0,temp:210,pressure:.6,oxygen:.1,water:10,biomass:0}}step(e){this.state.year+=1;let t=this.state.pressure/100*.1;return this.state.temp+=t,e.nuke_poles&&(this.state.temp+=5,this.state.pressure+=1,this.state.water+=2),e.solar_shade&&(this.state.temp-=2),e.plant_bacteria&&this.state.temp>273&&this.state.temp<320&&this.state.water>5&&(this.state.biomass+=1,this.state.oxygen+=.1),this.state.temp-=.5,this.state.temp=Math.max(0,this.state.temp),this.state.pressure=Math.max(0,this.state.pressure),this.state.oxygen=Math.max(0,Math.min(100,this.state.oxygen)),this.state.water=Math.max(0,Math.min(100,this.state.water)),this.state.biomass=Math.max(0,this.state.biomass),{...this.state}}}var g=e.i(78323);function p(){let[e]=(0,s.useState)(()=>new x),[r,i]=(0,s.useState)(e.state),[l,a]=(0,s.useState)({nuke_poles:!1,solar_shade:!1,plant_bacteria:!1});(0,s.useEffect)(()=>{let t=setInterval(()=>{i(e.step(l))},500);return()=>clearInterval(t)},[l]);let n=e=>{a(t=>({...t,[e]:!t[e]}))};return(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 h-full",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 bg-black rounded-xl border border-gray-700 overflow-hidden relative",children:[(0,t.jsx)(g.default,{state:r}),(0,t.jsxs)("div",{className:"absolute top-4 left-4 text-white/50 font-mono",children:["Year: ",r.year]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsx)(f,{label:"Temp",value:`${r.temp.toFixed(1)} K`,color:r.temp>273?"text-green-400":"text-blue-400"}),(0,t.jsx)(f,{label:"Pressure",value:`${r.pressure.toFixed(2)} kPa`}),(0,t.jsx)(f,{label:"Oxygen",value:`${r.oxygen.toFixed(1)} %`}),(0,t.jsx)(f,{label:"Water",value:`${r.water.toFixed(1)} %`,color:"text-blue-400"}),(0,t.jsx)(f,{label:"Biomass",value:`${r.biomass.toFixed(1)}`,color:"text-green-400"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-purple-400",children:"Planetary Engineering"}),(0,t.jsx)(m,{active:l.nuke_poles,onClick:()=>n("nuke_poles"),icon:"â˜¢ï¸",title:"Nuke Polar Caps",desc:"Release CO2 and Water vapor to thicken atmosphere.",color:"red"}),(0,t.jsx)(m,{active:l.solar_shade,onClick:()=>n("solar_shade"),icon:"ðŸ›°ï¸",title:"Solar Shades",desc:"Deploy orbital mirrors to block sunlight.",color:"blue"}),(0,t.jsx)(m,{active:l.plant_bacteria,onClick:()=>n("plant_bacteria"),icon:"ðŸ¦ ",title:"Seed Bacteria",desc:"Introduce extremophiles to convert CO2 to Oxygen.",color:"green"})]})]})}function f({label:e,value:s,color:r="text-white"}){return(0,t.jsxs)("div",{className:"bg-gray-800 p-3 rounded text-center",children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 uppercase",children:e}),(0,t.jsx)("div",{className:`text-lg font-bold ${r}`,children:s})]})}function m({active:e,onClick:s,icon:r,title:i,desc:l,color:a}){return(0,t.jsxs)("button",{onClick:s,className:`w-full p-4 rounded-xl border text-left transition-all ${e?({red:"border-red-500 bg-red-900/20 text-red-100",blue:"border-blue-500 bg-blue-900/20 text-blue-100",green:"border-green-500 bg-green-900/20 text-green-100"})[a]:"border-gray-700 bg-gray-800 hover:bg-gray-700"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:r}),(0,t.jsx)("span",{className:"font-bold text-lg",children:i})]}),(0,t.jsx)("p",{className:"text-sm opacity-70 ml-10",children:l})]})}var b=e.i(75056),y=e.i(49774),v=e.i(30297),w=e.i(93021);class j{bodies;G;dt;constructor(e=100){this.G=.1,this.dt=.01,this.bodies=[],this.init(e)}init(e){this.bodies=[],this.bodies.push({x:0,y:0,z:0,vx:0,vy:0,vz:0,mass:1e4,radius:5,color:"#FFD700",trail:[]});for(let t=0;t<e;t++){let e=20+80*Math.random(),t=Math.random()*Math.PI*2,s=Math.sqrt(1e4*this.G/e);this.bodies.push({x:Math.cos(t)*e,y:Math.sin(t)*e,z:(Math.random()-.5)*5,vx:-Math.sin(t)*s,vy:Math.cos(t)*s,vz:(Math.random()-.5)*.1,mass:1+5*Math.random(),radius:1+Math.random(),color:`hsl(${360*Math.random()}, 70%, 50%)`,trail:[]})}}solarSystem(){this.bodies=[],this.bodies.push({x:0,y:0,z:0,vx:0,vy:0,vz:0,mass:3e4,radius:6,color:"#FFD700",trail:[]}),this.bodies.push({x:10,y:0,z:0,vx:0,vy:Math.sqrt(3e4*this.G/10),vz:0,mass:1,radius:.8,color:"#A5A5A5",trail:[]}),this.bodies.push({x:15,y:0,z:0,vx:0,vy:Math.sqrt(3e4*this.G/15),vz:0,mass:2,radius:1.2,color:"#E3BB76",trail:[]}),this.bodies.push({x:20,y:0,z:0,vx:0,vy:Math.sqrt(3e4*this.G/20),vz:0,mass:2,radius:1.3,color:"#22A6B3",trail:[]}),this.bodies.push({x:25,y:0,z:0,vx:0,vy:Math.sqrt(3e4*this.G/25),vz:0,mass:1.5,radius:1,color:"#EB4D4B",trail:[]}),this.bodies.push({x:40,y:0,z:0,vx:0,vy:Math.sqrt(3e4*this.G/40),vz:0,mass:50,radius:3.5,color:"#F0932B",trail:[]})}blackHole(){this.bodies=[],this.bodies.push({x:0,y:0,z:0,vx:0,vy:0,vz:0,mass:5e5,radius:8,color:"#000000",trail:[]});for(let e=0;e<300;e++){let e=15+60*Math.random(),t=Math.random()*Math.PI*2,s=Math.sqrt(5e5*this.G/e),r=.8+.4*Math.random();this.bodies.push({x:Math.cos(t)*e,y:Math.sin(t)*e,z:(Math.random()-.5)*2,vx:-Math.sin(t)*s*r,vy:Math.cos(t)*s*r,vz:(Math.random()-.5)*.5,mass:.1+Math.random(),radius:.5+.5*Math.random(),color:`hsl(${60*Math.random()+10}, 80%, ${40+40*Math.random()}%)`,trail:[]})}}step(){let e=this.bodies.length;for(let t=0;t<e;t++){let s=0,r=0,i=0;for(let l=0;l<e;l++){if(t===l)continue;let e=this.bodies[l].x-this.bodies[t].x,a=this.bodies[l].y-this.bodies[t].y,n=this.bodies[l].z-this.bodies[t].z,o=Math.pow(e*e+a*a+n*n+4,1.5),d=this.G*this.bodies[t].mass*this.bodies[l].mass/o;s+=d*e,r+=d*a,i+=d*n}this.bodies[t].vx+=s/this.bodies[t].mass*this.dt,this.bodies[t].vy+=r/this.bodies[t].mass*this.dt,this.bodies[t].vz+=i/this.bodies[t].mass*this.dt}for(let t=0;t<e;t++)this.bodies[t].x+=this.bodies[t].vx*this.dt,this.bodies[t].y+=this.bodies[t].vy*this.dt,this.bodies[t].z+=this.bodies[t].vz*this.dt,.1>Math.random()&&(this.bodies[t].trail.push([this.bodies[t].x,this.bodies[t].y,this.bodies[t].z]),this.bodies[t].trail.length>50&&this.bodies[t].trail.shift())}}var N=e.i(90072);function S(){let[e]=(0,s.useState)(()=>new j(200)),[r,i]=(0,s.useState)(!0),[l,a]=(0,s.useState)(0),n=t=>{"solar"===t&&e.solarSystem(),"blackhole"===t&&e.blackHole(),a(e=>e+1)};return(0,s.useEffect)(()=>{},[r]),(0,t.jsxs)("div",{className:"h-full w-full bg-black relative",children:[(0,t.jsxs)("div",{className:"absolute top-4 left-4 z-10 flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>i(!r),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded text-white font-bold",children:r?"Pause":"Resume"}),(0,t.jsx)("button",{onClick:()=>{e.init(200),a(e=>e+1)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white",children:"Reset"}),(0,t.jsx)("button",{onClick:()=>n("solar"),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 rounded text-white",children:"Solar System"}),(0,t.jsx)("button",{onClick:()=>n("blackhole"),className:"px-4 py-2 bg-purple-900 hover:bg-purple-800 rounded text-white border border-purple-500",children:"Black Hole"})]}),(0,t.jsxs)(b.Canvas,{camera:{position:[0,40,60],fov:45},children:[(0,t.jsx)("color",{attach:"background",args:["#050505"]}),(0,t.jsx)("ambientLight",{intensity:1.5}),(0,t.jsx)("pointLight",{position:[0,0,0],intensity:5,color:"#ffdd44"}),(0,t.jsx)(w.Stars,{radius:100,depth:50,count:8e3,factor:6,saturation:1,fade:!0,speed:1}),(0,t.jsx)(k,{sim:e,running:r},l),(0,t.jsx)(v.OrbitControls,{})]})]})}function k({sim:e,running:r}){let i=(0,s.useRef)(null),l=(0,s.useMemo)(()=>new N.Object3D,[]);return(0,y.useFrame)(()=>{i.current&&(r&&e.step(),e.bodies.forEach((e,t)=>{l.position.set(e.x,e.y,e.z),l.scale.set(e.radius,e.radius,e.radius),l.updateMatrix(),i.current.setMatrixAt(t,l.matrix),i.current.setColorAt(t,new N.Color(e.color))}),i.current.instanceMatrix.needsUpdate=!0,i.current.instanceColor&&(i.current.instanceColor.needsUpdate=!0))}),(0,t.jsxs)("group",{children:[(0,t.jsxs)("instancedMesh",{ref:i,args:[void 0,void 0,e.bodies.length],children:[(0,t.jsx)("sphereGeometry",{args:[1,16,16]}),(0,t.jsx)("meshStandardMaterial",{roughness:.5,metalness:.5})]}),(0,t.jsx)(M,{bodies:e.bodies})]})}function M({bodies:e}){return(0,t.jsx)("group",{children:e.slice(0,10).map((e,s)=>(0,t.jsx)(C,{body:e,color:e.color},s))})}function C({body:e,color:r}){let i=(0,s.useRef)(null),[l]=(0,s.useState)(()=>new Float32Array(300)),[a,n]=(0,s.useState)(0);return(0,y.useFrame)(()=>{if(i.current){for(let e=299;e>2;e--)l[e]=l[e-3];l[0]=e.x,l[1]=e.y,l[2]=e.z,i.current.geometry.attributes.position.needsUpdate=!0}}),(0,t.jsxs)("line",{ref:i,children:[(0,t.jsx)("bufferGeometry",{children:(0,t.jsx)("bufferAttribute",{attach:"attributes-position",count:100,array:l,itemSize:3,args:[l,3]})}),(0,t.jsx)("lineBasicMaterial",{color:r,opacity:.5,transparent:!0})]})}class I{rows;cols;grid;constructor(e=50,t=50){this.rows=e,this.cols=t,this.grid=this.createGrid(),this.randomize()}createGrid(){return Array(this.rows).fill(0).map(()=>Array(this.cols).fill(0))}randomize(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.cols;t++)this.grid[e][t]=+(Math.random()>.8)}gliderGun(){for(let e=0;e<this.rows;e++)this.grid[e].fill(0);[[0,4],[0,5],[1,4],[1,5],[10,4],[10,5],[10,6],[11,3],[11,7],[12,2],[12,8],[13,2],[13,8],[14,5],[15,3],[15,7],[16,4],[16,5],[16,6],[17,5],[20,2],[20,3],[20,4],[21,2],[21,3],[21,4],[22,1],[22,5],[24,0],[24,1],[24,5],[24,6],[34,2],[34,3],[35,2],[35,3]].forEach(([e,t])=>{t+5<this.rows&&e+5<this.cols&&(this.grid[t+5][e+5]=1)})}pulsar(){for(let e=0;e<this.rows;e++)this.grid[e].fill(0);let e=Math.floor(this.cols/2),t=Math.floor(this.rows/2);[[-6,-4],[-6,-3],[-6,-2],[-6,2],[-6,3],[-6,4],[-4,-6],[-4,-1],[-4,1],[-4,6],[-3,-6],[-3,-1],[-3,1],[-3,6],[-2,-6],[-2,-1],[-2,1],[-2,6],[2,-6],[2,-1],[2,1],[2,6],[3,-6],[3,-1],[3,1],[3,6],[4,-6],[4,-1],[4,1],[4,6],[6,-4],[6,-3],[6,-2],[6,2],[6,3],[6,4]].forEach(([s,r])=>{t+r>=0&&t+r<this.rows&&e+s>=0&&e+s<this.cols&&(this.grid[t+r][e+s]=1)})}step(){let e=this.createGrid();for(let t=0;t<this.rows;t++)for(let s=0;s<this.cols;s++){let r=this.countNeighbors(t,s);1===this.grid[t][s]?e[t][s]=+(2===r||3===r):e[t][s]=+(3===r)}this.grid=e}countNeighbors(e,t){let s=0;for(let r=-1;r<2;r++)for(let i=-1;i<2;i++){let l=(e+r+this.rows)%this.rows,a=(t+i+this.cols)%this.cols;s+=this.grid[l][a]}return s-this.grid[e][t]}}function A(){let e=(0,s.useRef)(null),[r]=(0,s.useState)(()=>new I(60,100)),[i,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!i)return;let e=setInterval(()=>{r.step(),a()},100);return()=>clearInterval(e)},[i]);let a=()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let i=t.width,l=t.height,a=i/r.cols,n=l/r.rows;s.fillStyle="#111827",s.fillRect(0,0,i,l),s.fillStyle="#10B981";for(let e=0;e<r.rows;e++)for(let t=0;t<r.cols;t++)1===r.grid[e][t]&&s.fillRect(t*a,e*n,a-1,n-1)};return(0,s.useEffect)(()=>{a()},[]),(0,t.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)("button",{onClick:()=>l(!i),className:"px-4 py-2 bg-green-600 hover:bg-green-700 rounded font-bold",children:i?"Pause":"Start"}),(0,t.jsx)("button",{onClick:()=>{r.randomize(),a()},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded",children:"Randomize"}),(0,t.jsx)("button",{onClick:()=>{r.gliderGun(),a()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded",children:"Glider Gun"}),(0,t.jsx)("button",{onClick:()=>{r.pulsar(),a()},className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded",children:"Pulsar"})]}),(0,t.jsx)("canvas",{ref:e,width:1e3,height:600,className:"bg-gray-900 rounded border border-gray-700 cursor-pointer shadow-lg",onClick:t=>{let s=e.current;if(!s)return;let i=s.getBoundingClientRect(),l=Math.floor((t.clientY-i.top)/(i.height/r.rows)),n=Math.floor((t.clientX-i.left)/(i.width/r.cols));l>=0&&l<r.rows&&n>=0&&n<r.cols&&(r.grid[l][n]=+!r.grid[l][n],a())}})]})}class E{size;u;u_prev;u_next;bodies=[];damping;c;k;mode;gravity=.5;restitution=.8;constructor(e=100){this.size=e,this.u=new Float32Array(e*e),this.u_prev=new Float32Array(e*e),this.u_next=new Float32Array(e*e),this.damping=.99,this.c=.5,this.k=.1,this.mode="wave"}step(){if("rigid"===this.mode)return void this.stepRigid();let e=this.size;for(let t=1;t<e-1;t++)for(let s=1;s<e-1;s++){let r=t*e+s,i=this.u[(t+1)*e+s]+this.u[(t-1)*e+s]+this.u[t*e+(s+1)]+this.u[t*e+(s-1)]-4*this.u[r];"wave"===this.mode?this.u_next[r]=(2*this.u[r]-this.u_prev[r]+this.c*this.c*i)*this.damping:this.u_next[r]=this.u[r]+this.k*i}let t=this.u_prev;this.u_prev=this.u,this.u=this.u_next,this.u_next=t}stepRigid(){for(let e of this.bodies)e.vy+=this.gravity,e.x+=e.vx,e.y+=e.vy,e.vx*=.99,e.vy*=.99,e.x<e.radius&&(e.x=e.radius,e.vx*=-this.restitution),e.x>this.size-e.radius&&(e.x=this.size-e.radius,e.vx*=-this.restitution),e.y<e.radius&&(e.y=e.radius,e.vy*=-this.restitution),e.y>this.size-e.radius&&(e.y=this.size-e.radius,e.vy*=-this.restitution,e.vx*=.9);for(let e=0;e<this.bodies.length;e++)for(let t=e+1;t<this.bodies.length;t++){let s=this.bodies[e],r=this.bodies[t],i=r.x-s.x,l=r.y-s.y,a=Math.hypot(i,l),n=s.radius+r.radius;if(a<n){let e=n-a,t=Math.atan2(l,i),o=Math.cos(t)*e*.5,d=Math.sin(t)*e*.5;s.x-=o,s.y-=d,r.x+=o,r.y+=d;let h=i/a,c=l/a,u=(r.vx-s.vx)*h+(r.vy-s.vy)*c;if(u>0)continue;let x=-(1+this.restitution)*u,g=(x/=1/s.mass+1/r.mass)*h,p=x*c;s.vx-=1/s.mass*g,s.vy-=1/s.mass*p,r.vx+=1/r.mass*g,r.vy+=1/r.mass*p}}}addBody(e,t){this.bodies.push({x:e,y:t,vx:(Math.random()-.5)*2,vy:(Math.random()-.5)*2,radius:2*Math.random()+1,mass:2*Math.random()+1,color:`hsl(${360*Math.random()}, 70%, 50%)`})}disturb(e,t,s){"rigid"===this.mode?this.addBody(e,t):e>1&&e<this.size-1&&t>1&&t<this.size-1&&(this.u[e*this.size+t]+=s)}}function T(){let e=(0,s.useRef)(null),[r]=(0,s.useState)(()=>new E(100)),[i,l]=(0,s.useState)(!0),[a,n]=(0,s.useState)(.99);(0,s.useEffect)(()=>{r.damping=a},[a]),(0,s.useEffect)(()=>{if(!i)return;let e=setInterval(()=>{r.step(),o()},30);return()=>clearInterval(e)},[i]);let o=()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let i=t.width,l=t.height,a=s.createImageData(i,l),n=a.data;if(s.fillStyle="black",s.fillRect(0,0,i,l),"rigid"===r.mode){s.strokeStyle="#334155",s.lineWidth=2,s.strokeRect(0,0,i,l),r.bodies.forEach(e=>{s.beginPath(),s.arc(4*e.x,4*e.y,4*e.radius,0,2*Math.PI),s.fillStyle=e.color,s.fill(),s.strokeStyle="white",s.lineWidth=1,s.stroke()});return}for(let e=0;e<r.size;e++)for(let t=0;t<r.size;t++){let s=r.u[e*r.size+t],l=Math.max(0,Math.min(255,255*s)),a=Math.max(0,Math.min(255,-(255*s)));if(0!==l||0!==a)for(let s=0;s<4;s++)for(let r=0;r<4;r++){let o=((4*e+r)*i+(4*t+s))*4;n[o]=l,n[o+1]=0,n[o+2]=a,n[o+3]=255}}s.putImageData(a,0,0)};return(0,t.jsxs)("div",{className:"flex flex-col items-center h-full",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-4 items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-blue-400",children:"Physics Engine"}),(0,t.jsxs)("div",{className:"flex bg-gray-800 rounded p-1",children:[(0,t.jsx)("button",{onClick:()=>{r.mode="wave",r.u.fill(0),r.u_prev.fill(0)},className:`px-3 py-1 rounded ${"wave"===r.mode?"bg-blue-600":"hover:bg-gray-700"}`,children:"Wave"}),(0,t.jsx)("button",{onClick:()=>{r.mode="heat",r.u.fill(0)},className:`px-3 py-1 rounded ${"heat"===r.mode?"bg-red-600":"hover:bg-gray-700"}`,children:"Heat"}),(0,t.jsx)("button",{onClick:()=>{r.mode="rigid"},className:`px-3 py-1 rounded ${"rigid"===r.mode?"bg-green-600":"hover:bg-gray-700"}`,children:"Rigid Body"})]})]}),(0,t.jsx)("p",{className:"mb-4 text-gray-400",children:"wave"===r.mode?"Move mouse to create ripples.":"heat"===r.mode?"Move mouse to add heat.":"Click to spawn bouncing balls."}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400",children:"Damping"}),(0,t.jsx)("input",{type:"range",min:"0.9",max:"1.0",step:"0.001",value:a,onChange:e=>n(parseFloat(e.target.value)),className:"w-32 h-2 bg-gray-600 rounded-lg appearance-none cursor-pointer"})]}),(0,t.jsx)("canvas",{ref:e,width:400,height:400,className:"bg-black rounded border border-gray-700 cursor-crosshair shadow-2xl",onMouseMove:t=>{let s=e.current;if(!s)return;let i=s.getBoundingClientRect();if("rigid"===r.mode)return;let l=Math.floor((t.clientY-i.top)/4),a=Math.floor((t.clientX-i.left)/4);r.disturb(l,a,5)},onClick:t=>{if("rigid"!==r.mode)return;let s=e.current;if(!s)return;let i=s.getBoundingClientRect(),l=(t.clientX-i.left)/4,a=(t.clientY-i.top)/4;r.disturb(l,a,0)}})]})}class z{width;height;grid;frameCount=0;constructor(e,t){this.width=e,this.height=t,this.grid=Array(e*t).fill(null)}getIndex(e,t){return t*this.width+e}inBounds(e,t){return e>=0&&e<this.width&&t>=0&&t<this.height}static Materials={EMPTY:{color:"#000000",density:0,liquid:!1},WALL:{color:"#4B5563",density:100,liquid:!1},WATER:{color:"#3B82F6",density:1,liquid:!0},LAVA:{color:"#EF4444",density:2,liquid:!0},ACID:{color:"#10B981",density:1,liquid:!0},STONE:{color:"#9CA3AF",density:10,liquid:!1}};addParticle(e,t,s){if(!this.inBounds(e,t))return;let r=this.getIndex(e,t);if("EMPTY"===s)this.grid[r]=null;else{let e=z.Materials[s].color;this.grid[r]={type:s,color:e,updated:!1}}}step(){this.frameCount++;for(let e=0;e<this.grid.length;e++)this.grid[e]&&(this.grid[e].updated=!1);for(let e=this.height-1;e>=0;e--){let t=Math.random()>.5,s=t?0:this.width-1,r=t?this.width:-1,i=t?1:-1;for(let t=s;t!==r;t+=i){let s=this.getIndex(t,e),r=this.grid[s];r&&!r.updated&&"WALL"!==r.type&&("STONE"===r.type?this.updateSolid(t,e,s,r):z.Materials[r.type].liquid&&this.updateLiquid(t,e,s,r))}}}updateSolid(e,t,s,r){if(!this.tryMove(e,t,e,t+1,r)){if(Math.random()>.5){if(this.tryMove(e,t,e-1,t+1,r)||this.tryMove(e,t,e+1,t+1,r))return}else if(this.tryMove(e,t,e+1,t+1,r)||this.tryMove(e,t,e-1,t+1,r))return}}updateLiquid(e,t,s,r){if(!this.tryMove(e,t,e,t+1,r)){if(Math.random()>.5){if(this.tryMove(e,t,e-1,t+1,r)||this.tryMove(e,t,e+1,t+1,r))return}else if(this.tryMove(e,t,e+1,t+1,r)||this.tryMove(e,t,e-1,t+1,r))return;if(Math.random()<("LAVA"===r.type?.05:1)){if(Math.random()>.5){if(this.tryMove(e,t,e-1,t,r)||this.tryMove(e,t,e+1,t,r))return}else if(this.tryMove(e,t,e+1,t,r)||this.tryMove(e,t,e-1,t,r))return}}}tryMove(e,t,s,r,i){if(!this.inBounds(s,r))return!1;let l=this.getIndex(s,r),a=this.grid[l];return a?"ACID"===i.type&&"WALL"!==a.type&&"ACID"!==a.type?(this.grid[l]=null,this.grid[this.getIndex(e,t)]=null,!0):z.Materials[i.type].liquid&&z.Materials[a.type].liquid&&z.Materials[i.type].density>z.Materials[a.type].density?(this.grid[l]=i,this.grid[this.getIndex(e,t)]=a,i.updated=!0,a.updated=!0,!0):("WATER"===i.type&&"LAVA"===a.type||"LAVA"===i.type&&"WATER"===a.type)&&(this.grid[l]={type:"STONE",color:z.Materials.STONE.color,updated:!0},this.grid[this.getIndex(e,t)]={type:"STONE",color:z.Materials.STONE.color,updated:!0},!0):(this.grid[l]=i,this.grid[this.getIndex(e,t)]=null,i.updated=!0,!0)}}function F(){let e=(0,s.useRef)(null),[r]=(0,s.useState)(()=>new z(128,128)),[i,l]=(0,s.useState)(!1),[a,n]=(0,s.useState)(3),[o,d]=(0,s.useState)("WATER"),[h,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)("WATER");(0,s.useEffect)(()=>{if(!i)return;let t=e.current?.getContext("2d");if(!t)return;let s=setInterval(()=>{if(h)for(let e=60;e<68;e++)r.addParticle(e,0,u);r.step(),p(t)},16);return()=>clearInterval(s)},[i,h,u]);let g=t=>{if(1!==t.buttons)return;let s=e.current;if(!s)return;let l=s.getBoundingClientRect(),n=r.width/l.width,d=r.height/l.height,h=(t.clientX-l.left)*n,c=(t.clientY-l.top)*d;for(let e=-a;e<=a;e++)for(let t=-a;t<=a;t++)t*t+e*e<=a*a&&r.addParticle(Math.floor(h+t),Math.floor(c+e),o);if(!i){let e=s.getContext("2d");e&&p(e)}},p=e=>{let t=e.canvas.width,s=e.canvas.height;e.getImageData(0,0,t,s).data,e.fillStyle="#000000",e.fillRect(0,0,t,s);let i=t/r.width,l=s/r.height;for(let t=0;t<r.grid.length;t++){let s=r.grid[t];if(!s)continue;let a=t%r.width,n=Math.floor(t/r.width);e.fillStyle=s.color,e.fillRect(a*i,n*l,i,l)}};return(0,t.jsxs)("div",{className:"flex flex-col h-full items-center",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4 items-center bg-gray-800 p-3 rounded-xl border border-gray-700 justify-center",children:[(0,t.jsx)("button",{onClick:()=>l(!i),className:`px-6 py-2 rounded font-bold transition-colors ${i?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:i?"Stop Simulation":"Start Simulation"}),(0,t.jsx)("div",{className:"flex gap-1 bg-gray-700 p-1 rounded",children:["WATER","LAVA","ACID","STONE","WALL","EMPTY"].map(e=>(0,t.jsx)("button",{onClick:()=>d(e),className:`px-3 py-1 rounded text-sm font-bold ${o===e?"bg-blue-500 text-white":"text-gray-300 hover:bg-gray-600"}`,children:"EMPTY"===e?"Eraser":e},e))}),(0,t.jsxs)("div",{className:"flex flex-col w-24",children:[(0,t.jsxs)("label",{className:"text-xs text-gray-400",children:["Brush: ",a]}),(0,t.jsx)("input",{type:"range",min:"1",max:"10",value:a,onChange:e=>n(parseInt(e.target.value)),className:"h-2 bg-gray-600 rounded cursor-pointer"})]}),(0,t.jsx)("div",{className:"h-8 w-px bg-gray-600 mx-2"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("label",{className:"text-sm text-gray-300 font-bold",children:"Auto-Spawn:"}),(0,t.jsx)("button",{onClick:()=>c(!h),className:`px-3 py-1 rounded ${h?"bg-green-600 text-white":"bg-gray-700 text-gray-400"}`,children:h?"ON":"OFF"}),h&&(0,t.jsxs)("select",{value:u,onChange:e=>x(e.target.value),className:"bg-gray-700 text-white text-sm rounded px-2 py-1 outline-none",children:[(0,t.jsx)("option",{value:"WATER",children:"Water"}),(0,t.jsx)("option",{value:"LAVA",children:"Lava"}),(0,t.jsx)("option",{value:"ACID",children:"Acid"})]})]}),(0,t.jsx)("button",{onClick:()=>{r.grid.fill(null),!i&&e.current&&p(e.current.getContext("2d"))},className:"px-4 py-2 bg-red-800 hover:bg-red-900 text-red-200 rounded font-bold text-sm",children:"Reset"})]}),(0,t.jsx)("canvas",{ref:e,width:512,height:512,className:"bg-black rounded-lg shadow-2xl cursor-crosshair touch-none image-pixelated",onMouseDown:g,onMouseMove:g,style:{imageRendering:"pixelated"}}),(0,t.jsxs)("p",{className:"mt-2 text-gray-500 text-xs",children:["Simulating ",r.width,"x",r.height," grid. Click and drag to paint."]})]})}let $=[{id:1,title:"Stern-Gerlach Experiments",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"1.1 The Stern-Gerlach Experiment"}),(0,t.jsx)("p",{children:"In 1922, Otto Stern and Walther Gerlach performed a seminal experiment. They sent a beam of silver atoms through an inhomogeneous magnetic field. Classically, one would expect the beam to spread out continuously due to the random orientation of the atoms' magnetic moments."}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"The Surprise:"})," The beam split into exactly two discrete components! One deflected up, one down. This was the first direct evidence of ",(0,t.jsx)("strong",{children:"quantization of angular momentum"})," (spin)."]}),(0,t.jsxs)("div",{className:"my-6 p-4 bg-blue-900/20 border-l-4 border-blue-500 rounded",children:[(0,t.jsx)("h4",{className:"mt-0 text-blue-300",children:"Key Concept: Quantum State Vectors"}),(0,t.jsxs)("p",{children:['We represent the state of the atoms deflected "up" as the ket ',(0,t.jsx)("code",{children:"|+âŸ©"}),' (spin up). The atoms deflected "down" are ',(0,t.jsx)("code",{children:"|-âŸ©"})," (spin down).",(0,t.jsx)("br",{}),"A general state is a superposition: ",(0,t.jsxs)("code",{children:["|ÏˆâŸ© = c",(0,t.jsx)("sub",{children:"+"}),"|+âŸ© + c",(0,t.jsx)("sub",{children:"-"}),"|-âŸ©"]})]})]}),(0,t.jsx)("h3",{children:"1.2 Sequential Measurements"}),(0,t.jsxs)("p",{children:["What happens if we block the ",(0,t.jsx)("code",{children:"|-âŸ©"})," beam and send the ",(0,t.jsx)("code",{children:"|+âŸ©"})," atoms through a second magnet?"]}),(0,t.jsxs)("ul",{className:"list-disc pl-5",children:[(0,t.jsxs)("li",{children:["If the second magnet is also ",(0,t.jsx)("strong",{children:"Z-oriented"}),', 100% of atoms go UP. The state "remembers" it is spin up.']}),(0,t.jsxs)("li",{children:["If the second magnet is ",(0,t.jsx)("strong",{children:"X-oriented"}),", the beam splits 50/50 again! The measurement of X destroys the information about Z."]})]})]}),sim:(0,t.jsx)(function(){let e=(0,s.useRef)(null),[r,i]=(0,s.useState)("Z"),[l,a]=(0,s.useState)("Random"),[n,o]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let i=[],a=0,o=setInterval(()=>{if(n){if(++a%5==0){let e=0;"+Z"===l&&(e=1),"-Z"===l&&(e=-1),0===e&&(e=Math.random()>.5?1:-1),i.push({x:0,y:t.height/2+(Math.random()-.5)*10,vy:0,state:e})}s.fillStyle="black",s.fillRect(0,0,t.width,t.height),s.fillStyle="#333",s.fillRect(150,50,100,t.height-100),s.fillStyle="#555",s.font="20px monospace",s.fillText(`SG-${r}`,170,t.height/2+5),s.fillStyle="#00ffcc";for(let e=i.length-1;e>=0;e--){let l=i[e];if(l.x+=2,l.x>150&&l.x<250){if("Z"===r)l.vy+=.1*l.state;else if(.01>Math.abs(l.vy)){let e=Math.random()>.5?1:-1;l.vy+=.1*e}}l.y+=l.vy,s.beginPath(),s.arc(l.x,l.y,2,0,2*Math.PI),s.fill(),l.x>t.width&&i.splice(e,1)}s.fillStyle="#222",s.fillRect(t.width-20,0,20,t.height),s.fillStyle="#4ade80",s.fillText("N+",t.width-50,50),s.fillStyle="#f87171",s.fillText("N-",t.width-50,t.height-50)}},16);return()=>clearInterval(o)},[r,l,n]),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("canvas",{ref:e,width:600,height:400,className:"w-full flex-1 bg-black"}),(0,t.jsxs)("div",{className:"p-4 bg-gray-800 border-t border-gray-700 flex gap-4 items-center justify-center",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400",children:"Input Beam"}),(0,t.jsxs)("select",{value:l,onChange:e=>a(e.target.value),className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm",children:[(0,t.jsx)("option",{value:"Random",children:"Unpolarized (Random)"}),(0,t.jsx)("option",{value:"+Z",children:"Spin Up |+âŸ©"}),(0,t.jsx)("option",{value:"-Z",children:"Spin Down |-âŸ©"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("label",{className:"text-xs text-gray-400",children:"Magnet Orientation"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>i("Z"),className:`px-3 py-1 rounded text-sm ${"Z"===r?"bg-blue-600":"bg-gray-700"}`,children:"Z-Axis"}),(0,t.jsx)("button",{onClick:()=>i("X"),className:`px-3 py-1 rounded text-sm ${"X"===r?"bg-blue-600":"bg-gray-700"}`,children:"X-Axis"})]})]}),(0,t.jsx)("button",{onClick:()=>o(!n),className:"ml-4 px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded font-bold text-sm",children:n?"Pause":"Resume"})]})]})},{}),quiz:{question:"An atom is prepared in the state |+âŸ© (Spin Z Up). It passes through an X-analyzer. What is the probability of measuring Spin X Down?",options:["0%","25%","50%","100%"],answer:"50%",explanation:"Correct! The state |+âŸ© is an equal superposition of X-up and X-down: |+âŸ© = (|+âŸ©â‚“ + |-âŸ©â‚“) / âˆš2"}},{id:2,title:"Operators and Measurement",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"2.1 Operators"}),(0,t.jsxs)("p",{children:["In quantum mechanics, physical quantities (observables) are represented by ",(0,t.jsx)("strong",{children:"linear operators"}),". For spin-1/2 systems, these operators are 2x2 matrices."]}),(0,t.jsxs)("p",{children:["When an operator acts on a state vector (ket), it transforms it into a new vector:",(0,t.jsx)("br",{}),(0,t.jsx)("code",{children:"A|ÏˆâŸ© = |Ï•âŸ©"})]}),(0,t.jsxs)("div",{className:"my-6 p-4 bg-purple-900/20 border-l-4 border-purple-500 rounded",children:[(0,t.jsx)("h4",{className:"mt-0 text-purple-300",children:"The Pauli Matrices"}),(0,t.jsx)("p",{children:"The spin operators are proportional to the Pauli matrices:"}),(0,t.jsxs)("ul",{className:"font-mono text-sm",children:[(0,t.jsx)("li",{children:"X = [[0, 1], [1, 0]]  (Bit Flip)"}),(0,t.jsx)("li",{children:"Z = [[1, 0], [0, -1]] (Phase Flip)"}),(0,t.jsx)("li",{children:"Y = [[0, -i], [i, 0]]"})]})]}),(0,t.jsx)("h3",{children:"2.2 Measurement"}),(0,t.jsxs)("p",{children:["The only possible results of a measurement are the ",(0,t.jsx)("strong",{children:"eigenvalues"})," of the operator. For spin operators, the eigenvalues are +â„/2 and -â„/2."]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Eigenvectors"})," are special states that don't change direction when the operator acts on them, only their length (by the eigenvalue factor)."]})]}),sim:(0,t.jsx)(function(){let[e,r]=(0,s.useState)({c0:1,c1:0}),i=t=>{let s=e.c0,i=e.c1;if("X"===t){let e=s;s=i,i=e}else if("Z"===t)i=-i;else if("H"===t){let e=1/Math.sqrt(2),t=s;s=e*(t+i),i=e*(t-i)}r({c0:s,c1:i})};return(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-center p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h3",{className:"text-2xl font-mono text-purple-400 mb-4",children:"State Vector |ÏˆâŸ©"}),(0,t.jsxs)("div",{className:"text-4xl font-mono bg-gray-900 p-6 rounded-xl border border-gray-700",children:[e.c0.toFixed(3),"|0âŸ© + ",e.c1.toFixed(3),"|1âŸ©"]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>i("X"),className:"px-6 py-3 bg-blue-600 rounded hover:bg-blue-500 font-bold font-mono text-xl",children:"X"}),(0,t.jsx)("button",{onClick:()=>i("Z"),className:"px-6 py-3 bg-green-600 rounded hover:bg-green-500 font-bold font-mono text-xl",children:"Z"}),(0,t.jsx)("button",{onClick:()=>i("H"),className:"px-6 py-3 bg-yellow-600 rounded hover:bg-yellow-500 font-bold font-mono text-xl",children:"H"})]}),(0,t.jsx)("button",{onClick:()=>r({c0:1,c1:0}),className:"mt-8 text-gray-500 hover:text-white underline",children:"Reset to |0âŸ©"})]})},{}),quiz:{question:"Apply the X operator (Bit Flip) to the state |0âŸ© (Spin Up). What is the result?",options:["|0âŸ©","|1âŸ©","-|0âŸ©","0"],answer:"|1âŸ©",explanation:"Correct! X|0âŸ© = |1âŸ©. The X operator flips the bit from 0 (up) to 1 (down)."}},{id:3,title:"SchrÃ¶dinger Time Evolution",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"3.1 The SchrÃ¶dinger Equation"}),(0,t.jsxs)("p",{children:["How do quantum states change over time? They evolve according to the SchrÃ¶dinger equation:",(0,t.jsx)("br",{}),(0,t.jsx)("code",{children:"iâ„ d/dt |Ïˆ(t)âŸ© = H |Ïˆ(t)âŸ©"})]}),(0,t.jsxs)("p",{children:["Here, ",(0,t.jsx)("strong",{children:"H"})," is the Hamiltonian operator, representing the total energy of the system."]}),(0,t.jsx)("h3",{children:"3.2 Spin Precession"}),(0,t.jsxs)("p",{children:["For a spin-1/2 particle in a magnetic field ",(0,t.jsx)("strong",{children:"B"}),", the Hamiltonian is ",(0,t.jsx)("code",{children:"H = -Î³ BÂ·S"}),". This causes the spin vector to ",(0,t.jsx)("strong",{children:"precess"})," around the magnetic field direction, similar to a gyroscope."]}),(0,t.jsx)("p",{children:"This is the basis for Nuclear Magnetic Resonance (NMR) and MRI machines!"})]}),sim:(0,t.jsx)(function(){let e=(0,s.useRef)(null),[r,i]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let r=0,l=setInterval(()=>{i(r+=.05),s.fillStyle="black",s.fillRect(0,0,t.width,t.height);let e=t.width/2,l=t.height/2;s.strokeStyle="#333",s.beginPath(),s.arc(e,l,100,0,2*Math.PI),s.stroke(),s.strokeStyle="#444",s.beginPath(),s.moveTo(e,l+100+20),s.lineTo(e,l-100-20),s.stroke(),s.fillStyle="#888",s.fillText("B",e+10,l-100-20);let a=100*Math.sin(r),n=100*Math.cos(r)*.3;s.strokeStyle="#00ffcc",s.lineWidth=3,s.beginPath(),s.moveTo(e,l),s.lineTo(e+a,l-n),s.stroke(),s.fillStyle="#00ffcc",s.beginPath(),s.arc(e+a,l-n,5,0,2*Math.PI),s.fill()},16);return()=>clearInterval(l)},[]),(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-center",children:[(0,t.jsx)("canvas",{ref:e,width:400,height:400,className:"bg-black rounded-full border border-gray-800"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Spin Vector Precessing around B-field"})]})},{}),quiz:{question:"If a spin starts in |+xâŸ© and a B-field is applied along Z, what happens?",options:["It stays in |+xâŸ©","It flips to |-xâŸ©","It precesses in the XY plane","It aligns with Z"],answer:"It precesses in the XY plane",explanation:"Correct! The torque is Ï„ = Î¼ Ã— B. Since Î¼ is along X and B is along Z, the torque is along Y, causing precession."}},{id:4,title:"Quantum Spookiness",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"4.1 Entanglement"}),(0,t.jsxs)("p",{children:["When two particles interact, their states can become ",(0,t.jsx)("strong",{children:"entangled"}),". The state of the whole system cannot be described as a product of individual states."]}),(0,t.jsxs)("p",{children:["Example (Bell State): ",(0,t.jsxs)("code",{children:["|Î¦",(0,t.jsx)("sup",{children:"+"}),"âŸ© = (|00âŸ© + |11âŸ©) / âˆš2"]})]}),(0,t.jsxs)("p",{children:["If you measure the first qubit and get 0, the second qubit ",(0,t.jsx)("strong",{children:"instantly"}),' becomes 0, no matter how far away it is. Einstein called this "spooky action at a distance."']})]}),sim:(0,t.jsx)(function(){let[e,r]=(0,s.useState)(!1),[i,l]=(0,s.useState)(null);return(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-center p-8",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsxs)("h3",{className:"text-xl text-purple-400 mb-2",children:["Bell State |Î¦",(0,t.jsx)("sup",{children:"+"}),"âŸ©"]}),(0,t.jsx)("div",{className:"text-4xl font-mono",children:"(|00âŸ© + |11âŸ©) / âˆš2"})]}),(0,t.jsxs)("div",{className:"flex gap-16 items-center",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"mb-2 text-gray-400",children:"Alice"}),(0,t.jsx)("div",{className:`w-24 h-24 rounded-xl flex items-center justify-center text-4xl font-bold border-2 ${e?"border-green-500 bg-green-900/20":"border-gray-600 bg-gray-800"}`,children:e?i:"?"})]}),(0,t.jsx)("div",{className:"text-2xl text-gray-600",children:"â†”ï¸"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"mb-2 text-gray-400",children:"Bob"}),(0,t.jsx)("div",{className:`w-24 h-24 rounded-xl flex items-center justify-center text-4xl font-bold border-2 ${e?"border-green-500 bg-green-900/20":"border-gray-600 bg-gray-800"}`,children:e?i:"?"})]})]}),(0,t.jsxs)("div",{className:"mt-12 flex gap-4",children:[(0,t.jsx)("button",{onClick:()=>{r(!0),l(Math.random()>.5?0:1)},disabled:e,className:"px-6 py-3 bg-purple-600 rounded hover:bg-purple-500 font-bold disabled:opacity-50",children:"Measure"}),(0,t.jsx)("button",{onClick:()=>{r(!1),l(null)},className:"px-6 py-3 bg-gray-700 rounded hover:bg-gray-600 font-bold",children:"Reset"})]}),e&&(0,t.jsx)("p",{className:"mt-4 text-green-400 animate-in fade-in",children:"Instant correlation observed!"})]})},{}),quiz:{question:"In the state (|00âŸ© + |11âŸ©)/âˆš2, if Alice measures 0, what will Bob measure?",options:["0 (100%)","1 (100%)","0 or 1 (50/50)","Nothing"],answer:"0 (100%)",explanation:"Correct! The measurements are perfectly correlated."}},{id:5,title:"Quantized Energies: Particle in a Box",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"5.1 Infinite Square Well"}),(0,t.jsx)("p",{children:"Imagine a particle trapped in a 1D box of length L. The potential V is 0 inside and infinite outside."}),(0,t.jsxs)("p",{children:["The wavefunction must be zero at the walls. This boundary condition forces the wavefunction to be a standing wave:",(0,t.jsx)("br",{}),(0,t.jsxs)("code",{children:["Ïˆ",(0,t.jsx)("sub",{children:"n"}),"(x) = âˆš(2/L) sin(nÏ€x/L)"]})]}),(0,t.jsxs)("p",{children:["The energy levels are quantized: ",(0,t.jsxs)("code",{children:["E",(0,t.jsx)("sub",{children:"n"})," = nÂ²hÂ² / (8mLÂ²)"]}),". Zero energy is impossible! (Zero-point energy)."]})]}),sim:(0,t.jsx)(function(){let e=(0,s.useRef)(null),[r,i]=(0,s.useState)(1);return(0,s.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let i=0,l=setInterval(()=>{i+=.1,s.fillStyle="black",s.fillRect(0,0,t.width,t.height),s.strokeStyle="white",s.lineWidth=2,s.strokeRect(50,50,300,300),s.strokeStyle="#ff00ff",s.lineWidth=3,s.beginPath();for(let e=0;e<=300;e++){let t=Math.sin(r*Math.PI*e/300)*Math.cos(i*r);s.lineTo(50+e,200-50*t)}s.stroke(),s.fillStyle="#ffff00",s.fillText(`n = ${r}`,20,200),s.fillText(`E âˆ ${r*r}`,20,220)},16);return()=>clearInterval(l)},[r]),(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-center",children:[(0,t.jsx)("canvas",{ref:e,width:400,height:400,className:"bg-black"}),(0,t.jsx)("div",{className:"flex gap-2 mt-4",children:[1,2,3,4].map(e=>(0,t.jsxs)("button",{onClick:()=>i(e),className:`px-4 py-2 rounded ${r===e?"bg-purple-600":"bg-gray-700"}`,children:["n=",e]},e))})]})},{}),quiz:{question:"What happens to the energy levels if you shrink the box size L?",options:["They get closer","They spread apart","They stay the same","They become zero"],answer:"They spread apart",explanation:"Correct! E is proportional to 1/LÂ². Smaller box = Higher confinement energy."}},{id:6,title:"Unbound States",content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{children:"6.1 Free Particles"}),(0,t.jsxs)("p",{children:["If V=0 everywhere, the particle is free. The solutions are plane waves ",(0,t.jsxs)("code",{children:["e",(0,t.jsx)("sup",{children:"(ikx)"})]}),". These are not normalizable! Real particles are localized ",(0,t.jsx)("strong",{children:"wave packets"}),"."]}),(0,t.jsx)("h3",{children:"6.2 Tunneling"}),(0,t.jsx)("p",{children:"If a particle encounters a potential barrier higher than its energy, classically it bounces back. Quantum mechanically, the wavefunction decays exponentially inside the barrier but can emerge on the other side!"})]}),sim:(0,t.jsx)(function(){let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let r=[],i=setInterval(()=>{.05>Math.random()&&r.push({x:0,y:200+(Math.random()-.5)*50,vx:2}),s.fillStyle="black",s.fillRect(0,0,t.width,t.height),s.fillStyle="#555",s.fillRect(200,100,20,200),s.fillStyle="#aaa",s.fillText("Barrier",190,90),s.fillStyle="#00ffff";for(let e=r.length-1;e>=0;e--){let i=r[e];i.x+=i.vx,i.x>200&&i.x<220&&Math.random()>.1&&(i.vx=-2),s.beginPath(),s.arc(i.x,i.y,3,0,2*Math.PI),s.fill(),(i.x>t.width||i.x<0)&&r.splice(e,1)}},16);return()=>clearInterval(i)},[]),(0,t.jsxs)("div",{className:"flex flex-col h-full items-center justify-center",children:[(0,t.jsx)("canvas",{ref:e,width:400,height:400,className:"bg-black border border-gray-800"}),(0,t.jsx)("p",{className:"mt-4 text-gray-400",children:"Particles tunneling through a potential barrier"})]})},{}),quiz:{question:"Does tunneling probability increase or decrease with barrier width?",options:["Increase","Decrease","Stays same","Oscillates"],answer:"Decrease",explanation:"Correct! The wavefunction decays exponentially e<sup>(-Îºx)</sup> inside the barrier. Wider barrier = less transmission."}}];function B(){let[e,r]=(0,s.useState)(0),[i,l]=(0,s.useState)(!1),[a,n]=(0,s.useState)(null),o=$[e];return(0,t.jsxs)("div",{className:"flex flex-col h-full text-gray-200 p-4 gap-6 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-purple-400",children:"Quantum Mechanics: A Paradigms Approach"}),(0,t.jsxs)("p",{className:"text-gray-400",children:["Chapter ",o.id,": ",o.title]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{disabled:0===e,onClick:()=>{e>0&&(r(e=>e-1),l(!1),n(null))},className:"px-4 py-2 bg-gray-800 rounded hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{disabled:e===$.length-1,onClick:()=>{e<$.length-1&&(r(e=>e+1),l(!1),n(null))},className:"px-4 py-2 bg-purple-600 rounded hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Chapter"})]})]}),(0,t.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8 overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-900/50 p-6 rounded-xl border border-gray-700 overflow-y-auto custom-scrollbar",children:(0,t.jsxs)("div",{className:"prose prose-invert max-w-none",children:[o.content,(0,t.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-700",children:[(0,t.jsx)("button",{onClick:()=>l(!i),className:"w-full py-3 bg-gray-800 hover:bg-gray-700 rounded-lg font-bold border border-gray-600 transition-colors",children:i?"Hide Practice Problem":`Solve Practice Problem ${o.id}.1`}),i&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-800 rounded-lg animate-in fade-in slide-in-from-top-2",children:[(0,t.jsx)("p",{className:"font-bold mb-2",children:"Problem:"}),(0,t.jsx)("p",{className:"mb-4",children:o.quiz.question}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:o.quiz.options.map(e=>(0,t.jsx)("button",{onClick:()=>n(e),className:`p-2 rounded ${a===e?e===o.quiz.answer?"bg-green-600":"bg-red-600":"bg-gray-700 hover:bg-gray-600"}`,children:e},e))}),a===o.quiz.answer&&(0,t.jsx)("p",{className:"mt-2 text-green-400 text-sm",children:o.quiz.explanation}),a&&a!==o.quiz.answer&&(0,t.jsx)("p",{className:"mt-2 text-red-400 text-sm",children:"Incorrect. Try again!"})]})]})]})}),(0,t.jsxs)("div",{className:"bg-black rounded-xl border border-gray-700 flex flex-col overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute top-4 left-4 z-10 bg-black/50 backdrop-blur px-3 py-1 rounded text-xs text-gray-400 border border-gray-800",children:"Interactive Simulator"}),o.sim]})]})]})}function R(){let[e,i]=(0,s.useState)("sorting");return(0,t.jsx)(r,{activeSim:e,setActiveSim:i,children:(()=>{switch(e){case"sorting":return(0,t.jsx)(l,{});case"graph":return(0,t.jsx)(n,{});case"maze":return(0,t.jsx)(d,{});case"flow":return(0,t.jsx)(c,{});case"fluid":return(0,t.jsx)(u,{});case"liquid":return(0,t.jsx)(F,{});case"terraforming":return(0,t.jsx)(p,{});case"automata":return(0,t.jsx)(A,{});case"physics":return(0,t.jsx)(T,{});case"universe":return(0,t.jsx)(S,{});case"quantum_course":return(0,t.jsx)(B,{});default:return(0,t.jsx)("div",{children:"Select a simulation"})}})()})}e.s(["default",()=>R],31713)}]);