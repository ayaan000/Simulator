(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";let t="http://localhost:8000";e.s(["api",0,{physics:{create:async(e,s=50,a=50,n=.1)=>(await fetch(`${t}/sim/physics/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,nx:s,ny:a,param:n})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/physics/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json()},mars:{create:async()=>(await fetch(`${t}/sim/mars/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/mars/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json()},venus:{create:async()=>(await fetch(`${t}/sim/venus/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/venus/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json()},volcano:{create:async()=>(await fetch(`${t}/sim/volcano/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/volcano/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json()},terraforming:{create:async(e="Mars")=>(await fetch(`${t}/sim/terraforming/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planet:e})})).json(),step:async(e,s)=>(await fetch(`${t}/sim/terraforming/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,actions:s})})).json()},automata:{create:async()=>(await fetch(`${t}/sim/automata/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/automata/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json()},fluid:{create:async()=>(await fetch(`${t}/sim/fluid/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/fluid/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json(),action:async(e,s,a,n,i=1,o=1,r=1)=>(await fetch(`${t}/sim/fluid/action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,x:s,y:a,amount:n,r:i,g:o,b:r})})).json()},universe:{create:async(e=100)=>(await fetch(`${t}/sim/universe/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_bodies:e})})).json(),step:async(e,s=1)=>(await fetch(`${t}/sim/universe/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:s})})).json()},algorithms:{create:async(e,s)=>(await fetch(`${t}/algorithms/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,data:s})})).json(),step:async e=>(await fetch(`${t}/algorithms/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})})).json()}}])},64622,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(54858);function n(){let[e,n]=(0,s.useState)(null),i=(0,s.useRef)(null),[o,r]=(0,s.useState)(!1),[c,h]=(0,s.useState)("diffusion");(0,s.useEffect)(()=>{p()},[c]);let p=()=>{r(!1),a.api.physics.create(c).then(e=>n(e.session_id))};(0,s.useEffect)(()=>{if(!o||!e)return;let t=setInterval(async()=>{d(await a.api.physics.step(e))},50);return()=>clearInterval(t)},[o,e]);let d=e=>{let t=i.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let{field:a,min:n,max:o}=e,r=t.width,c=t.height,h=a.length,p=a[0].length,d=r/h,y=c/p,l=o-n||1;for(let e=0;e<h;e++)for(let t=0;t<p;t++){let i=(a[e][t]-n)/l,o=Math.floor(255*i),r=Math.floor((1-i)*255);s.fillStyle=`rgb(${o}, 0, ${r})`,s.fillRect(e*d,c-(t+1)*y,d,y)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4 text-blue-500",children:"Physics Engine"}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,t.jsx)("select",{value:c,onChange:e=>h(e.target.value),className:"bg-gray-800 text-white p-2 rounded",children:(0,t.jsx)("option",{value:"diffusion",children:"Diffusion (Heat)"})}),(0,t.jsx)("button",{onClick:()=>r(!o),className:"px-4 py-2 bg-blue-600 rounded hover:bg-blue-700",children:o?"Pause":"Start"}),(0,t.jsx)("button",{onClick:p,className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-700",children:"Reset"})]}),(0,t.jsx)("canvas",{ref:i,width:500,height:500,className:"border border-gray-700 rounded"})]})}e.s(["default",()=>n])}]);