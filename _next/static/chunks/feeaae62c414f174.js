(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,e=>{"use strict";let t="http://localhost:8000";e.s(["api",0,{physics:{create:async(e,a=50,s=50,n=.1)=>(await fetch(`${t}/sim/physics/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,nx:a,ny:s,param:n})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/physics/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json()},mars:{create:async()=>(await fetch(`${t}/sim/mars/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/mars/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json()},venus:{create:async()=>(await fetch(`${t}/sim/venus/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/venus/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json()},volcano:{create:async()=>(await fetch(`${t}/sim/volcano/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/volcano/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json()},terraforming:{create:async(e="Mars")=>(await fetch(`${t}/sim/terraforming/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planet:e})})).json(),step:async(e,a)=>(await fetch(`${t}/sim/terraforming/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,actions:a})})).json()},automata:{create:async()=>(await fetch(`${t}/sim/automata/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/automata/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json()},fluid:{create:async()=>(await fetch(`${t}/sim/fluid/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/fluid/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json(),action:async(e,a,s,n,o=1,i=1,r=1)=>(await fetch(`${t}/sim/fluid/action`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,x:a,y:s,amount:n,r:o,g:i,b:r})})).json()},universe:{create:async(e=100)=>(await fetch(`${t}/sim/universe/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({num_bodies:e})})).json(),step:async(e,a=1)=>(await fetch(`${t}/sim/universe/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e,steps:a})})).json()},algorithms:{create:async(e,a)=>(await fetch(`${t}/algorithms/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e,data:a})})).json(),step:async e=>(await fetch(`${t}/algorithms/step`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})})).json()}}])},80536,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(54858);function n(){let[e,n]=(0,a.useState)(null),o=(0,a.useRef)(null),[i,r]=(0,a.useState)(!1),[c,l]=(0,a.useState)({r:1,g:1,b:1});(0,a.useEffect)(()=>{s.api.fluid.create().then(e=>n(e.session_id))},[]),(0,a.useEffect)(()=>{if(!i||!e)return;let t=setInterval(async()=>{h(await s.api.fluid.step(e))},50);return()=>clearInterval(t)},[i,e]);let d=async t=>{if(!e||!o.current)return;let a=o.current.getBoundingClientRect(),n=Math.floor((t.clientX-a.left)/(a.width/64)),i=Math.floor((a.height-(t.clientY-a.top))/(a.height/64));n>=0&&n<64&&i>=0&&i<64&&await s.api.fluid.action(e,n,i,5,c.r,c.g,c.b)},h=e=>{let t=o.current;if(!t)return;let a=t.getContext("2d");if(!a)return;let{density:s,r:n,g:i,b:r}=e,c=t.width,l=t.height,d=s.length,h=s[0].length,p=c/d,y=l/h;for(let e=0;e<d;e++)for(let t=0;t<h;t++)if(s[e][t]>.01){let s=Math.min(255,Math.floor(20*n[e][t])),o=Math.min(255,Math.floor(20*i[e][t])),c=Math.min(255,Math.floor(20*r[e][t]));a.fillStyle=`rgb(${s}, ${o}, ${c})`,a.fillRect(e*p,l-(t+1)*y,p+1,y+1)}else a.fillStyle="black",a.fillRect(e*p,l-(t+1)*y,p+1,y+1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4 text-gray-400",children:"Fluid Dynamics (Color Dye)"}),(0,t.jsx)("p",{className:"mb-4 text-gray-500",children:"Move your mouse to inject colored dye."}),(0,t.jsxs)("div",{className:"flex gap-4 mb-4 items-center",children:[(0,t.jsx)("button",{onClick:()=>r(!i),className:"px-4 py-2 bg-gray-600 rounded hover:bg-gray-700",children:i?"Pause":"Start"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>l({r:1,g:0,b:0}),className:"w-8 h-8 rounded-full bg-red-500 border-2 border-white"}),(0,t.jsx)("button",{onClick:()=>l({r:0,g:1,b:0}),className:"w-8 h-8 rounded-full bg-green-500 border-2 border-white"}),(0,t.jsx)("button",{onClick:()=>l({r:0,g:0,b:1}),className:"w-8 h-8 rounded-full bg-blue-500 border-2 border-white"}),(0,t.jsx)("button",{onClick:()=>l({r:1,g:1,b:1}),className:"w-8 h-8 rounded-full bg-white border-2 border-white"}),(0,t.jsx)("button",{onClick:()=>l({r:1,g:.5,b:0}),className:"w-8 h-8 rounded-full bg-orange-500 border-2 border-white"})]})]}),(0,t.jsx)("canvas",{ref:o,width:512,height:512,className:"border border-gray-700 rounded cursor-crosshair",onMouseMove:d})]})}e.s(["default",()=>n])}]);